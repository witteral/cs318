YUI.add("search-empty-view",function(e){"use strict";e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(a){var t=a.modelParams&&a.modelParams.apiParams?e.merge(a.modelParams.apiParams):{};this.searchUrl=new e.SearchUrl(t,this.appContext,a.searchType||e.SearchUrl.searchTypes.UNDEFINED),this.searchType=a.searchType,this.isMobile=a.isMobile,""===this.get("container").get("innerHTML")&&this.setContainerHTML("")},buildContainer:function(){var a="search.PHOTOS_PEOPLE_OR_GROUPS";return this.isMobile&&(this.searchType===e.SearchUrl.searchTypes.PHOTOS?a="search.SEARCH_PHOTOS":this.searchType===e.SearchUrl.searchTypes.PEOPLE?a="search.SEARCH_PEOPLE":this.searchType===e.SearchUrl.searchTypes.GROUPS&&(a="search.SEARCH_GROUPS")),a=this.intlMessage({intlName:a}),this.setContainerWithTemplate("search-empty",{searchPlaceholder:a,noMatchesForQuery:this.get("noMatchesForQuery"),apiFailed:this.get("apiFailed"),usingSlenderAdvancedPanel:this.appContext.flipper.isFlipped("enable-slender-advanced-search")}),this},activate:function(){var e,a,t=this.get("container").one(".search-box-container form"),r=this;return e=t.one("input.search-box"),this.isMobile||this.registerEventHandler(e.on("keyup",this.handleSearchFieldKeyUp.bind(this))),t&&(this.registerEventHandler(t.on("submit",function(t){a=r.searchUrl.createNewSearch(e.get("value")).getURL(),t.halt(),r.appContext.flapp.navigate(a)})),setTimeout(function(){e.focus()},500)),this},enableBlankState:function(e){this.get("container").addClass("blank")},handleSearchFieldKeyUp:function(a){var t=a.target,r=t.get("value");r.length>0&&(this.enableBlankState(),e.fire("transfer-to-gn-search",r),t.set("value",""))},onParentViewEvent:function(e,a){a&&"error-msg-updated"===a[0]&&this.isBuilt&&this.buildContainer()}},{ATTRS:{noMatchesForQuery:{value:!1,validator:function(e,a){return!e||"object"==typeof e&&e.hasOwnProperty("noMatchesText")}},apiFailed:{value:!1,validator:function(a,t){return e.AttributeHelpers.validateBoolean(a)}}}})},"@VERSION@",{requires:["flickr-view","flickr-promise","search-url","attribute-helpers","hermes-template-search-empty"],langBundles:["search"]});YUI.add("model-proxy",function(e,t){var r=require("hermes-core/flog")(t);e.getModelProxyConstructor=function(t){var o;return o=function(e){this.id=e,this.registry=t,this.isModel=!0},o.prototype={},e.getModelProxyConstructor.skipList.forEach(function(e){o.prototype[e]=function(){var t=new Error("Registry methods are not exposed on models.");throw r.error({err:t,method:e}),t}}),e.Object.each(t,function(r,n){o.prototype[n]||0!==n.indexOf("_")&&e.Lang.isFunction(r)&&(Object.keys(r.prototype).length>0||(o.prototype[n]=(function(e){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;++o)r[o]=arguments[o];return r.unshift(this.id),t[e].apply(t,r)}})(n)))},this,!0),o},e.getModelProxyConstructor.skipList=["add","get","load","proxy","remoteRead","remoteCreate","attributeSearch","removeAll","getCount","serialize","deserialize"]},"@VERSION@",{requires:[]});YUI.add("flickr-collection",function(t){var i,n={};(i=t.FlickrCollection=function(t,i,n){this.registry=t,this.id=i,this.attrName=n,this._data=[],this.fetchedStart=!1,this.fetchedEnd=!1,this.totalItems=Number.MAX_VALUE}).prototype={constructor:i,push:function(t){var i=this._data.concat();i.push(t),this.registry.setValue(this.id,this.attrName,i)},unshift:function(t){var i=this._data.concat();i.unshift(t),this.registry.setValue(this.id,this.attrName,i)},concat:function(t){var i=this._data.concat(t);this.registry.setValue(this.id,this.attrName,i)},remove:function(t){"string"==typeof t&&(t={id:t});var i,n=this.find(t,!0);return n&&((i=this._data.concat()).splice(n.index,1),this.registry.setValue(this.id,this.attrName,i)),n&&n.value},find:function(t,i){if(!t)return null;var n=null,e=Object.keys(t);return this._data.some(function(i,r){if(i)return e.every(function(n){return i[n]===t[n]})?(n={value:i,index:r},!0):void 0}),i?n:n?n.value:null},getFirstItem:function(){var t,i;for(t=0;t<this._data.length;t++)if(i=this._data[t])return{item:i,index:t};return null},getLastItem:function(){var t,i;for(t=this._data.length-1;t>=0;t--)if(i=this._data[t])return{item:i,index:t};return null},getList:function(){return this._data.concat()},size:function(){return this._data.length},toJSON:function(){var i=[];return t.Array.each(this.getList(),function(t){t&&i.push(t.toJSON())}),i},toString:function(){return this.registry.name+'["'+this.attrName+'"]'},appendToListMulti:function(t){this.concat(t)},appendToList:function(t){this.push(t)},prependToList:function(t){this.unshift(t)},getFromListByID:function(t,i){var n={};return n[i||"id"]=t,this.find(n)||void 0},removeFromList:function(t,i){var n={};return n[i||"id"]=t,this.remove(n)},hasMinBoundary:function(){return this.fetchedStart},hasMaxBoundary:function(){return this.fetchedEnd},_setValue:function(t){this._data=t}},t.FlickrCollection.executeFetch=function(i,e,r,a){var s;return a&&t.Lang.isFunction(a.run)?(s=JSON.stringify(i),n[s]||(n[s]=a.run.call(a,i,e.appContext).then(function(t){return delete n[s],t},function(t){throw delete n[s],t}),n[s])):t.Promise.reject("(flickr-collection::executeFetch) invalid fetcher for "+e.name+"["+r+"]")},t.FlickrCollection.trimArray=function(t){for(var i=0,n=t.length-1;i<t.length&&!t[i];)i++;for(;n>i&&!t[n];)n--;return t.slice(i,n+1)}},"@VERSION@",{requires:[]});YUI.add("paged-collection",function(t,e){var a=require("hermes-core/flog")(e);t.PagedCollection=function(t,e,a,s){this.constructor.superclass.constructor.call(this,t,e,a),s&&(s instanceof Array&&(s={pageContent:s,page:1,perPage:s.length}),s.totalPages&&(this.totalPages=s.totalPages),void 0===typeof s.totalItems||isNaN(parseFloat(s.totalItems))||(this.totalItems=parseFloat(s.totalItems)),this.fetchedStart=!!s.fetchedStart,this.fetchedEnd=!!s.fetchedEnd,this.addPage(s))},t.extend(t.PagedCollection,t.FlickrCollection,{getPage:function(e){var a,s,i,o,r,n,h;if(e&&e.page&&e.perPage&&!e.forceAPICall){if(n=this.totalPages&&e.page>=this.totalPages,h=this.totalItems&&s>=this.totalItems,a=e.perPage*(e.page-1),s=Math.min(e.perPage*e.page,this.totalItems),!n&&!h||!this.fetchedEnd)for(i=a;i<s;i++)if(void 0===this._data[i]||!this._data[i].exists()){o=!0;break}}else e||(e={}),o=!0;return o?(e.pathAlias||(e.id=this.id),e.isCollection=!0,(r=this.registry.attributes[this.attrName].pageFetch).fetchParams&&(e=t.merge(e,r.fetchParams)),t.FlickrCollection.executeFetch(e,this.registry,this.attrName,r.listFetcher)):t.Promise.resolve(this._data.slice(a,s))},addPage:function(t){var e,a,s=t.perPage*(t.page-1),i=s+Math.min(t.pageContent.length,t.perPage),o=0;if(t.forceAppend)this._data=this._data.concat(t.pageContent);else if(this._data.length<=s)this._data.length=s,this._data=this._data.concat(t.pageContent);else for(this._data.length<i&&(this._data.length=i),e=s;e<i;e++)this._data[e]=t.pageContent[o],o++;t.totalPages&&(this.totalPages=t.totalPages,t.page>=this.totalPages&&(this.fetchedEnd=!0)),void 0===typeof t.totalItems||isNaN(parseFloat(t.totalItems))||(a=parseFloat(t.totalItems),this.totalItems=a,this._data.length>=a?this.fetchedEnd=!0:s+parseInt(t.perPage,10)>a&&this._data.length<a&&(this.fetchedEnd=!0)),this.fetchedStart=this._data&&void 0!==this._data[0]},removePage:function(t){},getPageOf:function(t,e){e||(a.warn("`perPage` must be specified; defaulting to 50."),e=50);var s=this.find(t,!0);return s?Math.floor(s.index/e)+1:-1},getNextIncompletePage:function(t){var e=t.page*(t.perPage-1),a=Math.floor(this._data.length/t.perPage)+1;for(e;e<this._data.length;e++)if(void 0===this._data[e]||!this._data[e].exists()){a=Math.floor(e/t.perPage)+1;break}return a},_setValue:function(e){if(e instanceof Array)this.constructor.superclass._setValue.call(this,e);else{if(!(e=(function(e){return e?(e instanceof Array&&(e={pageContent:e}),e=t.merge({page:1,perPage:0,pageContent:[]},e)):(a.warn("No pageData sent to PagedCollection; aborting."),null)})(e)))return;e.remove?this.removePage(e):this.addPage(e)}}})},"@VERSION@",{requires:["flickr-collection"]});YUI.add("flickr-model-registry",function(e,t){function i(t,s,a){return!1===a&&"string"==typeof t&&"string"==typeof s&&(t=t.toLowerCase(),s=s.toLowerCase()),t===s||(e.moment.isMoment(t)&&e.moment.isMoment(s)?0===t.diff(s):!!(e.Lang.isArray(t)&&e.Lang.isArray(s)&&(function(t,s){var a=!0;t.length!==s.length&&(a=!1);a&&e.Array.some(t,function(e,t){if(!i(s[t],e))return a=!1,!0});return a})(t,s))||!!(e.Lang.isObject(t,!0)&&e.Lang.isObject(s,!0)&&(function(t,s){var a=!0;e.Object.size(t)!==e.Object.size(s)&&(a=!1);a&&e.Object.some(t,function(e,t){if(!s.hasOwnProperty(t)||!i(s[t],e))return a=!1,!0});a&&e.Object.some(s,function(e,s){if(!t.hasOwnProperty(s)||!i(t[s],e))return a=!1,!0});return a})(t,s)))}function s(t){var i=t;return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Array.prototype?(i=t.slice(),void 0!==t.hasMinBoundary&&(i.hasMinBoundary=t.hasMinBoundary),void 0!==t.hasMaxBoundary&&(i.hasMaxBoundary=t.hasMaxBoundary)):Object.getPrototypeOf(t)===Object.prototype&&(i={},e.Object.each(t,function(e,t){i[t]=e},this))),i}var a=require("hermes-core/flog")(t);e.Models={};var r=e.FlickrModelRegistry=function(t){this.appContext=t,this.attributes=this.attributes||{},this.attributes.id={writeOnce:"initOnly",setter:function(t){return e.Lang.isString(t)||(e.Lang.isNumber(t)?t+="":(a.warn("`id` falling back to a Y.guid",{topic:this.name,val:t}),t=e.guid())),t}},this._setDefaultRemoteMethods(),this._validateAttributes(),this._data={},this._dataSize=0,this._subscribers=[],this.hasWeakSubscribers=!1,this._chainedEvents={},this._derivedCache=void 0,this._unsavedModels={}};r.prototype={attributeSearch:function(t,s){var a=[];return t.id?a.push(t.id):e.Object.each(this._data,function(r,n){var o=!0;e.Object.some(t,function(e,t){if(!i(e,r[t],!1)){if(!0!==s)return o=!1,!0;if(!i(e,this.getDefaultValue(r.id,t),!1))return o=!1,!0}},this),o&&a.push(n)},this),a},load:function(t,i){var s,a,r=this;return i||(i={}),e.Lang.isObject(t,!0)?(s=this.attributeSearch(t).sort()[0],i=e.merge(t,i||{})):(s=t,i=e.merge({id:s},i)),s&&this.exists(s)?e.Promise.resolve(s):(this._fetchPromises||(this._fetchPromises={}),a=s||JSON.stringify(i),this._fetchPromises[a]?this._fetchPromises[a]:(this._fetchPromises[a]=this.remoteRead(i).then(function(){var e,i,n=s;if(s||(e=r.attributeSearch(t)).length>0&&(n=e[0]),delete r._fetchPromises[a],n&&r.exists(n))return n;throw i=new Error("["+r.name+"] Model ID is missing after fetching."),i.getModelFailure=!0,i}),this._fetchPromises[a]))},get:function(e,t){return this.load(e,t).then(this.proxy.bind(this))},add:function(t,i,s){var r;{if(e.Lang.isObject(t,!0)&&!e.Lang.isArray(t))return void 0===i&&(i=!1),r=this.attributes.id.setter.apply(this,[t.id,void 0]),this._data[r]?a.warn("Attempt to add a model that is already in the registry.",{topic:this.name,id:r}):(this._data[r]={},this._dataSize++,this._queueEvent("modelsAdded",{id:r}),i?this._data[r]=t:Object.keys(this.attributes).forEach(function(e){var i=this.attributes[e],a=t[e];i.readOnly||this.setValue(r,e,a,!0,s)},this),this.appContext.markAsNewlyFetched(this.name,r)),this.proxy(r);a.warn("`add` requires an object",{topic:this.name,data:t})}},remove:function(e){this.exists(e)&&(delete this._data[e],this._dataSize--,this._removeChainedEvents(e),this._removeEventSubscribers(e),this._queueEvent("modelsRemoved",{id:e}))},removeAll:function(){e.Object.each(this._data,function(e,t){this.remove(t)},this)},removeAllExcept:function(t){var i=t.reduce(function(e,t){return e[t]=!0,e},{});e.Object.each(this._data,function(e,t){i[t]||this.remove(t)},this)},_removeChainedEvents:function(t){var i;this._chainedEvents[t]&&(e.Object.each(this._chainedEvents[t],function(t,s){(i=this.attributes[s])&&(i.isModel?t.detach():(i.isListProxy||i.isCollection)&&e.Array.each(t,function(e){e.detach&&e.detach()}))},this),delete this._chainedEvents[t])},_removeEventSubscribers:function(t){var i=[];this._subscribers.length&&(e.Array.each(this._subscribers,function(e,s){e.id===t&&i.push(s)},this),e.Array.each(i,function(e){this._subscribers.splice(e,1)},this))},proxy:function(t){return this._ModelProxy||(this._ModelProxy=e.getModelProxyConstructor(this)),new this._ModelProxy(t)},getValue:function(t,i,r){var n,o,h;if(t&&i)if(this.exists(t)){if(o=this.attributes[i])return o.isListProxy?n=new e.ListProxy(this,t,i):(void 0===(n=this._data[t][i])&&(n=this.getDefaultValue(t,i)),h=o.getter,!r&&h&&(n=h.apply(this,[n,t])),n=s(n)),n;a.warn("`getValue` called for an attribute that isn't defined",{topic:this.name,id:t,attr:i})}else a.warn("`getValue` called for an id that doesn't exist in the registry.",{topic:this.name,id:t,attr:i});else a.warn("`getValue` requires two arguments.",{topic:this.name,id:t,attr:i})},setValue:function(t,r,n,o,h){var d,u,l,c,f,v,g;if(!t||!r||arguments.length<3)a.warn("`setValue` requires three arguments.",{topic:this.name,id:t});else if(this.exists(t))if(d=this.attributes[r])if(d.readOnly)a.warn("Attribute is readOnly.",{topic:this.name,id:t,attr:r});else if("initOnly"!==d.writeOnce||o)if(!0===d.writeOnce&&this._data[t][r])a.warn("Attribute can only be set once.",{topic:this.name,id:t,attr:r});else{if(l=this.getValue(t,r),c=this._data[t][r],d.isListProxy&&(l=c),!h&&d.validator){if(v=d.validator,!e.Lang.isFunction(v))return void a.warn("Attribute has an invalid validator.",{topic:this.name,validator:d.validator,attr:r});if(!v.apply(this,[n,t]))return void a.info("Attribute validation failed.",{topic:this.name,id:t,val:n,attr:r})}n=s(n),!h&&d.setter&&(n=d.setter.apply(this,[n,t])),d.isListProxy&&!e.Lang.isArray(n)&&(n=[]),d.isCollection&&(n?"object"==typeof n&&n instanceof e.PagedCollection||(l?(c=l.getList(),l._setValue(n),n=l):(c=null,n=new e.PagedCollection(this,t,r,n))):n=new e.PagedCollection(this,t,r)),this._isDifferentValue(t,r,n,l)&&(!d.isModel||e.Lang.isObject(n)&&n.isModel?(o||(u=this._getAttributeValuesDerivedBy(t,r)),this._data[t][r]=n,d.isListProxy&&n&&(n.hasMinBoundary&&this.getValue(t,r).setMinBoundary(),n.hasMaxBoundary&&this.getValue(t,r).setMaxBoundary()),(d.isModel||d.isListProxy||d.isCollection)&&this._chainEvents(t,r),o||(f=this.getValue(t,r),d.isListProxy||d.isCollection||this._setUnsaved(t,r,f,l,c),g={id:t,attrName:r,prevVal:l,newVal:f},d.isListProxy?g.listDiff=this._calcListDiff(f,l):d.isCollection&&(g.listDiff=this._calcListDiff(f,c)),this._queueEvent("valuesChanged",g),e.Object.size(u)&&e.Object.each(u,function(e,s){var a=this.getValue(t,s);i(a,e)||(g={id:t,attrName:s,prevVal:e,newVal:a,derivedBy:[r]},(this.attributes[s].isListProxy||this.attributes[s].isCollection)&&(g.listDiff=this._calcListDiff(a,e)),this._queueEvent("valuesChanged",g))},this))):a.warn("Attribute must be a ModelProxy instance.",{topic:this.name,id:t,attr:r}))}else a.warn("Attribute can only be set during initialization.",{topic:this.name,id:t,attr:r});else a.warn("Attribute is not present in the attributes list.",{topic:this.name,id:t,attr:r});else a.warn("`setValue called for an id that is not in the registry.",{topic:this.name,id:t})},setValues:function(t,i){var s={};e.Object.each(i,function(e,i){"id"!==i&&(s[i]=this.setValue(t,i,e))},this)},revertValue:function(e,t){this._unsavedModels[e]&&void 0!==this._unsavedModels[e][t]&&this.setValue(e,t,this._unsavedModels[e][t].lastSavedValRaw)},exists:function(t){var i;return i=e.Lang.isArray(t)?t[0]:e.Lang.isObject(t,!0)?this.attributeSearch(t)[0]:t,!!this._data[i]},addOrUpdate:function(e){if(this.exists(e.id)){var t,i;Object.keys(e).forEach(function(s){t=this.attributes[s],i=e[s],t&&!t.readOnly&&"initOnly"!==t.writeOnce&&this.setValue(e.id,s,i)},this)}else this.add(e);return this.appContext.markAsNewlyFetched(this.name,e.id),this.markChildModelsAsNewlyFetched(e.id),this.proxy(e.id)},markChildModelsAsNewlyFetched:function(e){var t=this;this.getOwnedModels(e).forEach(function(e){e&&(t.appContext.markAsNewlyFetched(e.registry.name,e.id),e.markChildModelsAsNewlyFetched(e.id))})},getOwnedModels:function(t){var i,s,r,n=[];if(!t)return a.warn("`getOwnedModels` requires a model id.",{topic:this.name,id:t}),n;if(!this.exists(t))return n;this._ModelProxy||(this._ModelProxy=e.getModelProxyConstructor(this));for(i in this.attributes)(s=this.attributes[i]).isModel?(r=this.getValue(t,i))&&r.exists()&&n.push(r):(s.isListProxy||s.isCollection)&&(n=n.concat(this.getValue(t,i).getList().filter(function(e){return e&&e.isModel&&e.exists()})));return n},hasAttribute:function(e){return!!this.attributes[e]},toJSON:function(e){var t,i,s={};if(e)for(t in this.attributes)s[t]=this.getValue(e,t),s[t]&&(this.attributes[t].isModel||this.attributes[t].isListProxy||this.attributes[t].isCollection)&&(s[t]=s[t].toJSON());else for(i in this._data)s[i]=this.toJSON(i);return s},on:function(t,i,s,a){var r;return t||(t=null),r={eventName:i,fn:s,id:t,weak:a},this._subscribers.push(r),a&&(this.hasWeakSubscribers=!0),{detach:function(){var t=e.Array.indexOf(this._subscribers,r);this._subscribers.splice(t,1)}.bind(this)}},removeWeakSubscribers:function(){var e=this._subscribers.length;if(e)for(;e--;)this._subscribers[e].weak&&this._subscribers.splice(e,1);this.hasWeakSubscribers=!1},getCount:function(){return this._dataSize},getDefaultValue:function(e,t){var i,s;return"function"==typeof(i=this.attributes[t]).defaultFn&&(s=i.defaultFn.call(this,e)),void 0===s&&void 0!==i.defaultValue&&(s=i.defaultValue),s},_isDifferentValue:function(e,t,s,a){var r=this.attributes[t],n=r.getter;if(n&&(s=n.apply(this,[s,e])),void 0!==r.isListProxy&&r.isListProxy&&void 0!==a){if(s.hasMaxBoundary!==(void 0!==a.hasMaxBoundary&&a.hasMaxBoundary)||s.hasMinBoundary!==(void 0!==a.hasMinBoundary&&a.hasMinBoundary))return!0}else if(r.isCollection)return!0;return!i(s,a)},_calcListDiff:function(t,i){var s,a,r,n,o={added:null,removed:null};return s=t instanceof e.ListProxy||t instanceof e.PagedCollection?t.getList():t,a=i instanceof e.ListProxy||i instanceof e.PagedCollection?i.getList():i,r=a.reduce(function(e,t){return t&&t.id&&(e[t.id]=!0),e},{}),n=s.reduce(function(e,t){return t&&t.id&&(e[t.id]=!0),e},{}),o.added=s.filter(function(e){return e&&!r[e.id]}),o.removed=a.filter(function(e){return e&&!n[e.id]}),o},_getAttributesDerivedBy:function(t){return this._derivedCache||(this._derivedCache={},e.Object.each(this.attributes,function(t,i){t.derivedBy&&e.Lang.isArray(t.derivedBy)&&e.Array.each(t.derivedBy,function(e){this._derivedCache[e]||(this._derivedCache[e]=[]),this._derivedCache[e].push(i)},this)},this)),this._derivedCache[t]},_getAttributeValuesDerivedBy:function(t,i){var s=this._getAttributesDerivedBy(i),a={};return s&&s.length&&e.Array.each(s,function(e){a[e]=this.getValue(t,e)},this),a},_queueEvent:function(t,i){var s;this._eventQueue||(this._eventQueue=[]),(s=this._eventQueue).push({type:t,data:i}),this._eventPending||(this._eventPending=!0,setTimeout(function(){var t={};this._eventPending=!1,delete this._eventQueue,e.Array.each(s,function(e){var i=e.type,s=e.data,a=s.id;switch(i){case"modelsAdded":case"modelsRemoved":t[i]=t[i]||{},t[i][a]=s;break;case"valuesChanged":if(t.valuesChanged&&t.valuesChanged[a]&&t.valuesChanged[a][s.attrName]&&t.valuesChanged[a][s.attrName].newVal){t.valuesChanged[a][s.attrName].newVal=s.newVal,t.valuesChanged[a][s.attrName].derivedBy&&s.derivedBy&&(t.valuesChanged[a][s.attrName].derivedBy=t.valuesChanged[a][s.attrName].derivedBy.concat(s.derivedBy)),t.valuesChanged[a][s.attrName].chained&&!s.chained&&delete t.valuesChanged[a][s.attrName].chained;break}t.valuesChanged=t.valuesChanged||{},t.valuesChanged[a]=t.valuesChanged[a]||{},t.valuesChanged[a][s.attrName]=s}}),e.Object.each(t,function(e,t){this._fireEvent(t,e)},this)}.bind(this),0))},_fireEvent:function(t,i){e.Array.each(this._subscribers,function(e){e.eventName===t&&(e.id?i[e.id]&&e.fn.call(void 0,i[e.id]):e.fn.call(void 0,i))})},_chainEvents:function(t,i){var s,a,r=this.attributes[i];this._chainedEvents[t]=this._chainedEvents[t]||{},r.isModel?(this._chainedEvents[t][i]&&this._chainedEvents[t][i].detach(),a=this.getValue(t,i),this._chainedEvents[t][i]=a.on("valuesChanged",function(e){this._queueChainedEvent(t,i)}.bind(this))):(r.isListProxy||r.isCollection)&&(this._chainedEvents[t][i]&&e.Array.each(this._chainedEvents[t][i],function(e){e.detach()}),this._chainedEvents[t][i]=[],s=this.getValue(t,i),e.Array.each(s.getList(),function(e){e&&this._chainedEvents[t][i].push(e.on("valuesChanged",function(e){this._queueChainedEvent(t,i)}.bind(this)))},this))},_queueChainedEvent:function(t,i){var s,a=this.getValue(t,i);this._queueEvent("valuesChanged",{id:t,attrName:i,prevVal:a,newVal:a,chained:!0}),s=this._getAttributeValuesDerivedBy(t,i),e.Object.size(s)&&e.Object.each(s,function(e,s){this._queueEvent("valuesChanged",{id:t,attrName:s,newVal:e,derivedBy:[i],chained:!0})},this)},_deleteUnsaved:function(t,i){this._unsavedModels[t]&&this._unsavedModels[t][i]&&(delete this._unsavedModels[t][i],0===e.Object.size(this._unsavedModels[t])&&delete this._unsavedModels[t])},_setUnsaved:function(e,t,s,a,r){this._unsavedModels[e]&&this._unsavedModels[e][t]?i(s,this._unsavedModels[e][t].lastSavedVal)&&this._deleteUnsaved(e,t):(this._unsavedModels[e]=this._unsavedModels[e]||{},this._unsavedModels[e][t]={lastSavedVal:a,lastSavedValRaw:r})},_validateAttributes:function(){var t,i;t=["setter","getter","validator","defaultValue","defaultFn","derivedBy","readOnly","writeOnce","isModel","serialize","deserialize"],i=["isListProxy","isCollection","pageFetch","contextFetch","rangeFetch"],e.Object.each(this.attributes,function(s,r){e.Object.each(s,function(n,o){s.isListProxy||s.isCollection?-1===e.Array.indexOf(i,o)&&a.warn("Unknown property on collection attribute.",{topic:this.name,prop:o,attr:r}):-1===e.Array.indexOf(t,o)&&a.warn("Unknown property on attribute.",{topic:this.name,prop:o,attr:r})},this)},this)},_setDefaultRemoteMethods:function(){this.remote=this.remote||{},this.remote.create||(this.remote.create=function(t){return a.error("`remote.create` was called without being implemented.",{topic:this.name,attrs:t}),e.Promise.reject()}),this.remote.read||(this.remote.read=function(t){Object.keys(this.attributes).some(function(e){var t=this.attributes[e];if(!("id"===e||t.readOnly||t.isListProxy||t.isCollection||t.defaultValue||t.defaultFn))return!0},this),"object"!=typeof t&&(t={id:t});var i={id:t.id};return this.add(i),e.Promise.resolve(i)}),this.remote.update||(this.remote.update=function(t,i){return a.error("`remote.update` was called without being implemented.",{topic:this.name,id:t,attrs:i}),e.Promise.reject()}),this.remote.delete||(this.remote.delete=function(t){return a.error("`remote.delete` was called without being implemented.",{topic:this.name,id:t}),e.Promise.reject()})},remoteCreate:function(e){return this.remote.create.call(this,e)},remoteRead:function(e){return this.remote.read.call(this,e)},remoteUpdate:function(t){var i={},s=this;return this._unsavedModels[t]&&e.Object.each(this._unsavedModels[t],function(e,s){i[s]={newVal:this.getValue(t,s),prevVal:e.lastSavedVal}},this),e.Object.size(i)>0?this.remote.update.call(this,t,i).then(function(e){return s._unsavedModels={},e}):e.Promise.resolve()},remoteBatchUpdate:function(e,t){return this.remote.batchUpdate.call(this,e,t)},remoteDelete:function(e){var t=this;return this.remote.delete.call(this,e).then(function(){t.remove(e)})},getListPageByContinuation:function(t,i){var s,a,r,n,o,h,d,u,l,c,f=this,v=f.appContext,g=e.APIHelper.request.getRebootPhotoExtras();switch(f.name){case"photo-groups-models":s="group-pool-models",a="groups",r="flickr.photos.getGroups",n="groups.group",g+=","+e.APIHelper.request.getRebootGroupExtras();break;case"photo-sets-models":s="set-models",a="sets",r="flickr.photos.getSets",n="sets.set";break;case"photo-galleries-models":s="gallery-models",a="galleries",r="flickr.photos.getGalleries",n="galleries.gallery"}return r?f.exists(t)?(f.continuationKeys=f.continuationKeys||{},f.getMorePromises=f.getMorePromises||{},"-1"===(h=f.continuationKeys[t]||"0")?e.Promise.resolve({newItems:[],loadedAll:!0}):("0"===h&&(i+=f.getValue(t,a).getList().length),o={photo_id:t,extras:g,primary_photo_extras:"url_sq, url_t, url_s, url_m",continuation:h,per_page:i},u=t+"_"+h,(l=f.getMorePromises[u])?l:(c={apiResponse:v.callAPI(r,o,!0),contextRegistry:v.getModelRegistry(s),personRegistry:v.getModelRegistry("person-models")},"photo-groups-models"===f.name&&(c.groupRegistry=v.getModelRegistry("group-models")),f.getMorePromises[u]=new e.FlickrPromise(c).then(function(i){var s,r,o,h=[],l=i.apiResponse,c=i.contextRegistry,v=i.personRegistry,g=i.groupRegistry;return(r=n.split(".").reduce(function(t,i){return e.Lang.isObject(t)?t[i]:void 0},l))&&(e.Array.each(r,function(t){e.APIHelper.response.addContextToRegistry(t,c,v,g),h.push(c.proxy(t.id))}),h.length&&(o=f.getValue(t,a).getList().map(function(e){return e.getValue("id")}),(h=h.filter(function(e){return-1===o.indexOf(e.getValue("id"))})).length&&f.getValue(t,a).appendToListMulti(h))),void 0===(d=l[a].continuation)?d="-1":e.Lang.isNumber(d)&&(d+=""),s="-1"===d,f.continuationKeys[t]=d,delete f.getMorePromises[u],{newItems:h,loadedAll:s}},function(e){throw delete f.getMorePromises[u],e}),f.getMorePromises[u]))):e.Promise.reject("[api-helper] getListPageByContinuation was called for an ID that isn't in the registry: "+t):e.Promise.reject("[api-helper] getListPageByContinuation was called without an invalid registry type: "+f.name)},getBuriedValue:function(e,t){var i,s={};return(i=this.getValue(e,t))&&i.payload&&(s=i.payload),s},setBuriedValue:function(e,t,i,s){return this.setValue(e,t,{payload:i},s)}},e.mix(r.prototype,e.Localizable)},"@VERSION@",{requires:["flickr-promise","model-proxy","list-proxy","moment","paged-collection","localizable"]});YUI.add("set-meta-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,remote:{},attributes:{displayType:{readOnly:!0,defaultFn:function(){return"set"}},title:{validator:function(t,i){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},owner:{isModel:!0},photoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},videoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},photoCountDisplay:{readOnly:!0,derivedBy:["owner"],defaultFn:function(e){var t=this.getValue(e,"photoCount"),i=this.getValue(e,"videoCount"),n="";return 0===(t-=i)&&0===i?n=this.intlMessage({intlName:"models.ZERO_PHOTOS"}):1===t&&0===i?n=this.intlMessage({intlName:"models.ONE_PHOTO"}):t>1&&0===i?n=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS",photos:t}):0===t&&1===i?n=this.intlMessage({intlName:"models.ONE_VIDEO"}):1===t&&1===i?n=this.intlMessage({intlName:"models.ONE_PHOTO_AND_ONE_VIDEO"}):t>1&&1===i?n=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_ONE_VIDEO",photos:t}):0===t&&i>1?n=this.intlMessage({intlName:"models.MULTIPLE_VIDEOS",videos:i}):1===t&&i>1?n=this.intlMessage({intlName:"models.ONE_PHOTO_AND_MULTIPLE_VIDEOS",videos:i}):t>1&&i>1&&(n=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS",photos:t,videos:i})),n}},primary:{},primaryPhotoSizes:{},bestIconURL:{readOnly:!0,derivedBy:["primaryPhotoSizes"],defaultFn:function(e){var t=this.getValue(e,"primaryPhotoSizes");return t.sq?t.sq.src:void 0}},url:{readOnly:!0,derivedBy:["owner"],defaultFn:function(e){var t=this.getValue(e,"owner");return t?"/photos/"+t.getValue("pathAlias")+"/albums/"+e:void 0}},isAutoUploadSet:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},urlSuffix:{readOnly:!0,defaultFn:function(e){return"set-"+e}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise"],langBundles:["models"]});YUI.add("hermes-lang-models",function(o,O){o.Intl.add("hermes/models","en-US",{YOUR_PHOTOSTREAM:["Your photostream"],USER_PHOTOSTREAM:["${name}","'s photostream"],USER_PHOTOS:["${name}","'s photos"],PHOTOSTREAM:["Photostream"],YOUR_FAVORITES:["Your favorites"],USER_FAVORITES:["${name}","'s favorites"],FAVORITES:["Favorites"],ZERO_PHOTOS:["0 photos"],ONE_PHOTO:["1 photo"],MULTIPLE_PHOTOS:["${photos}"," photos"],PLURAL_PHOTOS:[{type:"plural",valueName:"count",options:{one:"${#} photo",other:"${#} photos"}}],ONE_VIDEO:["1 video"],ONE_PHOTO_AND_ONE_VIDEO:["1 photo and 1 video"],ONE_PHOTO_AND_ONE_VIDEO_AMP:["1 photo & 1 video"],MULTIPLE_PHOTOS_AND_ONE_VIDEO:["${photos}"," photos and 1 video"],MULTIPLE_PHOTOS_AND_ONE_VIDEO_AMP:["${photos}"," photos & 1 video"],MULTIPLE_VIDEOS:["${videos}"," videos"],ONE_PHOTO_AND_MULTIPLE_VIDEOS:["1 photo and ","${videos}"," videos"],ONE_PHOTO_AND_MULTIPLE_VIDEOS_AMP:["1 photo & ","${videos}"," videos"],MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS:["${photos}"," photos and ","${videos}"," videos"],MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS_AMP:["${photos}"," photos & ","${videos}"," videos"],PHOTO_LIST:["Photo list"],EXPlORE_TITLE:["Explore ","${id}"],BAD_DATE_TYPE:["Bad date type"],ZERO_ITEMS:["0 items"],ONE_ITEM:["1 item"],MULTIPLE_ITEMS:["${items}"," items"]})},"@VERSION@",{requires:["intl"]});YUI.add("flickr-photosets-search-fetcher",function(e,r){"use strict";function s(r){var s,t={extras:e.APIHelper.request.getRebootSearchSetsExtras(),per_page:r.perPage||50,page:r.page||1};return s=e.merge(t,r.apiParams||{}),YUI.Env.isServer&&e.SearchHelper.unescapeParameters(s),s}e.namespace("ListFetchers")["flickr-photosets-search"]={run:function(t,o){var a=this,p=t.emptyQuery?{}:s(t),i=p.user_id;return i?e.Promise.all([t.emptyQuery?e.Promise.resolve({photos:{photo:[]}}):o.callAPI("flickr.photosets.search",p),o.getModelRegistry("search-sets-models"),o.getModelRegistry("set-meta-models"),o.getModel("person-models",i)]).then(function(e){return a._processResponse(e,t)},e.FetcherErrorLogger(r)):e.Promise.reject("[flickr-photosets-search-fetcher] called without `user_id` param")},_processParams:s,_processResponse:function(r,s){var t,o,a=[],p=[],i=r[0],c=r[1],h=r[2],l=i.photosets.photoset.length;for(o=0;o<l;o++)(a=e.APIHelper.response.parsePhotoSetMeta(i.photosets.photoset[o])).owner=r[3],h.addOrUpdate(a),p.push(h.proxy(a.id));return t={id:s.id,sets:p,totalItems:p.length},c.addOrUpdate(t),t.sets}}},"@VERSION@",{requires:["flickr-promise","search-helper","api-helper","set-meta-models","querystring-parse-simple"],optional:[]});YUI.add("search-sets-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-photosets-search"].run(t,this.appContext)}},attributes:{sets:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-photosets-search"],listItemIdField:"id"}},apiParams:{writeOnce:"initOnly"},totalItems:{setter:function(t){return(t=e.AttributeHelpers.coerceInteger(t))<0&&(t=0),t},defaultValue:0},emptyQuery:{defaultValue:!1}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-photosets-search-fetcher","search-helper"]});YUI.add("hermes-template-search-photos-albums",function(l,a){var n=l.Template.Handlebars.revive({1:function(l,a,n,e,s){var t,r=null!=a?a:{};return'\t<h5 class="search-results-header">'+(null!=(t=n.unless.call(r,null!=a?a.loading:a,{name:"unless",hash:{},fn:l.program(2,s,0),inverse:l.noop,data:s}))?t:"")+l.escapeExpression((n.intlMessage||a&&a.intlMessage||n.helperMissing).call(r,{name:"intlMessage",hash:{intlName:"search.YOUR_ALBUMS"},data:s}))+" "+(null!=(t=n.if.call(r,null!=a?a.loading:a,{name:"if",hash:{},fn:l.program(8,s,0),inverse:l.noop,data:s}))?t:"")+"</h5>\n"+(null!=(t=n.if.call(r,null!=a?a.loading:a,{name:"if",hash:{},fn:l.program(10,s,0),inverse:l.program(12,s,0),data:s}))?t:"")},2:function(l,a,n,e,s){var t;return null!=(t=n.if.call(null!=a?a:{},null!=a?a.viewingAll:a,{name:"if",hash:{},fn:l.program(3,s,0),inverse:l.program(5,s,0),data:s}))?t:""},3:function(l,a,n,e,s){return'<span class="secondary">'+l.escapeExpression((n.intlHTMLMessage||a&&a.intlHTMLMessage||n.helperMissing).call(null!=a?a:{},{name:"intlHTMLMessage",hash:{count:null!=a?a.total:a,intlName:"search.RESULTS_COUNT"},data:s}))+"</span>"},5:function(l,a,n,e,s){var t;return null!=(t=n.unless.call(null!=a?a:{},null!=a?a.singleResult:a,{name:"unless",hash:{},fn:l.program(6,s,0),inverse:l.noop,data:s}))?t:""},6:function(l,a,n,e,s){var t,r=null!=a?a:{},i=n.helperMissing,u=l.escapeExpression;return'<a href="'+u("function"==typeof(t=null!=(t=n.viewAllLink||(null!=a?a.viewAllLink:a))?t:i)?t.call(r,{name:"viewAllLink",hash:{},data:s}):t)+'" class="view-more-link" data-track="search-viewall-albums">'+u((n.intlHTMLMessage||a&&a.intlHTMLMessage||i).call(r,{name:"intlHTMLMessage",hash:{count:null!=a?a.total:a,intlName:"search.VIEW_ALL_COUNT"},data:s}))+"</a>"},8:function(l,a,n,e,s){return'<div class="flickr-dots inline"></div>'},10:function(l,a,n,e,s){var t;return'\t\t<div style="height: '+l.escapeExpression("function"==typeof(t=null!=(t=n.placeholderHeight||(null!=a?a.placeholderHeight:a))?t:n.helperMissing)?t.call(null!=a?a:{},{name:"placeholderHeight",hash:{},data:s}):t)+'px;"></div>\n'},12:function(l,a,n,e,s){var t,r=null!=a?a:{};return'\t\t<div class="results'+(null!=(t=n.unless.call(r,null!=a?a.viewingAll:a,{name:"unless",hash:{},fn:l.program(13,s,0),inverse:l.noop,data:s}))?t:"")+'">\n'+(null!=(t=n.each.call(r,null!=a?a.albums:a,{name:"each",hash:{},fn:l.program(15,s,0),inverse:l.noop,data:s}))?t:"")+"\t\t</div>\n"},13:function(l,a,n,e,s){return" unified"},15:function(l,a,n,e,s){var t,r,i=null!=a?a:{},u=n.helperMissing,o=l.escapeExpression;return'\t\t\t\t<a href="'+o("function"==typeof(r=null!=(r=n.url||(null!=a?a.url:a))?r:u)?r.call(i,{name:"url",hash:{},data:s}):r)+'"><div class="avatar album huge" style="background-image:url('+o(l.lambda(null!=(t=null!=(t=null!=a?a.primaryPhotoSizes:a)?t.q:t)?t.src:t,a))+')">\n\t\t\t\t\t<sup>'+o("function"==typeof(r=null!=(r=n.title||(null!=a?a.title:a))?r:u)?r.call(i,{name:"title",hash:{},data:s}):r)+"</sup>\n\t\t\t\t\t<sub>"+o((n.intlHTMLMessage||a&&a.intlHTMLMessage||u).call(i,{name:"intlHTMLMessage",hash:{count:null!=a?a.photoCount:a,intlName:"search.GROUP_PHOTO_COUNT"},data:s}))+"</sub>\n\t\t\t\t</div></a>\n"},compiler:[7,">= 4.0.0"],main:function(l,a,n,e,s){var t;return null!=(t=n.unless.call(null!=a?a:{},null!=a?a.emptySearch:a,{name:"unless",hash:{},fn:l.program(1,s,0),inverse:l.noop,data:s}))?t:""},useData:!0}),e={};l.Array.each([],function(a){var n=l.Template.get("hermes/"+a);n&&(e[a]=n)}),l.Template.register("hermes/search-photos-albums",function(a,s){return s=s||{},s.partials=s.partials?l.merge(e,s.partials):e,n(a,s)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("search-photos-albums-view",function(e){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,emptySearch:!1,initializer:function(t){return""===this.get("container").get("innerHTML")&&this.setContainerWithTemplate("search-photos-albums",{loading:!0,placeholderHeight:120}),this.unifiedSubviewParams=t.unifiedSubviewParams||{},this.unifiedSubviewParams.albums&&this.unifiedSubviewParams.albums.fetchParams?(this.fetchParams=this.unifiedSubviewParams.albums.fetchParams,this.apiParams=e.merge(this.fetchParams.apiParams||{}),this.searchId=this.unifiedSubviewParams.albums.id):(this.apiParams={},this.fetchParams={}),this.searchUrl=new e.SearchUrl(this.apiParams,this.appContext,e.SearchUrl.searchTypes.PHOTOS),this.viewingAll=this.apiParams[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll],this.albumWidth=0,this.albumMarginWidth=0,this.albumResultsContainer=null,this},loadState:function(){var e,t,i=this;return this.appContext.getModel("search-sets-models",this.searchId||this.searchUrl.getId(),this.fetchParams).then(function(a){(e=a.getValue("sets"))&&(t=e.toJSON()).length<1&&(i.emptySearch=!0),i.searchModel=a})},buildContainer:function(){var t;return this.searchUrl.setAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.albums,!0),this.searchUrl.setAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll,!0),t={albums:this.searchModel.getValue("sets").toJSON(),total:this.searchModel.getValue("totalItems"),singleResult:1===this.searchModel.getValue("totalItems"),emptySearch:this.emptySearch,viewAllLink:this.searchUrl.getURL(),viewingAll:this.viewingAll},this.setContainerWithTemplate("search-photos-albums",t),this},activate:function(){var t=this.get("container").one(".album");return!this.viewingAll&&t&&(this.albumWidth=t.get("offsetWidth"),this.albumMarginWidth=parseInt(t.getStyle("marginRight").replace("px",""))+parseInt(t.getStyle("marginLeft").replace("px","")),this.albumMarginWidth+=5,this.albumWidth+=this.albumMarginWidth,this.albumResultsContainer=this.get("container").one(".results"),this.registerEventHandler(e.globalEvents.subscribe("window:resize",this.quantizeContainerWidth.bind(this))),this.quantizeContainerWidth(null)),this},quantizeContainerWidth:function(e){var t,i=this.get("container").get("clientWidth");t=i-(i+this.albumMarginWidth)%this.albumWidth,this.albumResultsContainer.setStyle("width",t+"px")}},{ATTRS:{}})},"@VERSION@",{requires:["flickr-view","flickr-promise","search-sets-models","search-url","search-helper","hermes-template-search-photos-albums"],optionalRequires:["global-events"],langBundles:["search","common"]});YUI.add("hermes-lang-common",function(e,o){e.Intl.add("hermes/common","en-US",{SIGN_UP:["Sign Up"],YOU:["You"],PHOTOSTREAM:["Photostream"],SETS:["Sets"],ALBUMS:["Albums"],MAP:["Map"],FAVORITES:["Favorites"],GALLERIES:["Galleries"],COLLECTIONS:["Collections"],ARCHIVES:["Archives"],TAGS:["Tags"],PHOTOS_OF:["Photos of"],PROFILE:["Profile"],POPULAR:["Popular"],EXPLORE:["Explore"],ACTIVITY:["Recent activity"],STATS:["Stats"],ORGANIZE:["Organize"],HELP:["Help"],SETTINGS:["Settings"],SIGN_OUT:["Sign Out"],FLICKRMAIL:["FlickrMail"],ERROR:["Error"],OK:["OK"],OOPS:["Oops!"],SIGN_IN:["Sign in"],FORGET_IT:["Forget it"],WARNING:["Warning"],DONE:["Done"],ZOINKS:["Zoinks!"],CANCEL:["Cancel"],ON:["On"],OFF:["Off"],ABOUT:["About"],JOBS:["Jobs"],BLOG:["Blog"],APPS:["Apps"],BRAND:["Brand"],DEVELOPERS:["Developers"],STATUS:["Status"],COMMUNITY_GUIDELINES:["Community guidelines"],REPORT_ABUSE:["Report abuse"],PRIVACY:["Privacy"],TERMS:["Terms"],YAHOO_SAFELY:["Yahoo Safely"],FEEDBACK:["Feedback"],MOBILE:["Mobile"],APP_GARDEN:["App Garden"],COMMUNITY:["Community"],API_DOC:["API Doc"],DEVELOPER_GUIDE:["Developer Guide"],DEVELOPER_BLOG:["Developer Blog"],HELP_FORUM:["Help forum"],GUIDELINES:["Guidelines"],NUMBER:[{type:"number",valueName:"num"}],RETRY:["Retry"],EDIT:["Edit"],MORE:["More"],DELETE:["Delete"],LOADING:["Loading"],FOLLOW:["Follow"],FOLLOWING:["Following"],UNFOLLOW:["Unfollow"],FRIEND:["Friend"],FRIENDS:["Friends"],FAMILY:["Family"],PUBLIC:["Public"],FRIENDS_AND_FAMILY:["Friends & Family"],FRIEND_AND_FAMILY:["Friend & Family"],ALL:["All"],A_YAHOO_COMPANY:["Flickr, a Yahoo company"],A_YAHOO_COMPANY_WITH_LINK:['Flickr, <a href="https://info.yahoo.com">a Yahoo company</a>'],A_YAHOO_COMPANY_WITH_TRACKED_LINK:['Flickr, <a href="https://info.yahoo.com" data-track="footer-yahoo">a Yahoo company</a>'],CONFIRMATION:["Confirmation"],FAVORITE:["Favorite"],SEARCH:["Search"],CONFIRM:["Confirm"],SELECT:["Select"],NEW:["New"],LOADING_WITH_ELLIPSES:["Loading..."],NONE:["None"],TITLE:["Title"],DESCRIPTION:["Description"],DECLINE:["Decline"],ACCEPT:["Accept"],CIRCA:["Circa"],SOMETIME_IN:["Sometime in..."],JANUARY:["January"],FEBRUARY:["February"],MARCH:["March"],APRIL:["April"],MAY:["May"],JUNE:["June"],JULY:["July"],AUGUST:["August"],SEPTEMBER:["September"],OCTOBER:["October"],NOVEMBER:["November"],DECEMBER:["December"],SAVE:["Save"],PLEASE_TRY_AGAIN:["Please try again"],YES:["Yes"],SQUARE:["Square"],THUMBNAIL:["Thumbnail"],SMALL:["Small"],MEDIUM:["Medium"],LARGE:["Large"],ORIGINAL:["Original"],REPLACE:["Replace"],SAVING:["Saving"],REPLACING:["Replacing"],JOIN:["Join"],SELECTED:[{type:"plural",valueName:"count",options:{one:"${#} selected",other:"${#} selected"}}],PREVIEW:["Preview"],DATE_TAKEN:["Date Taken"],DATE_POSTED:["Date Posted"],DATE_UPLOADED:["Date Uploaded"],PEOPLE:["People"],BETA:["Beta"],INVALID_DATE:["Invalid Date."],INVALID_DATE_TAKEN:["Invalid Date Taken."],INVALID_DATE_POSTED:["Invalid Date Posted."],INVALID_DATE_UPLOADED:["Invalid Date Uploaded."],FUTURE_DATE_POSTED:["Date Posted is set to the future."],FUTURE_DATE_UPLOADED:["Date Uploaded is set to the future."],INVALID_DATE_VALUE:["One or more of the dates you entered was invalid."],INVALID_DATE_TAKEN_VALUE:["Date Taken value is invalid."],INVALID_DATE_POSTED_VALUE:["Date Posted value is invalid."],INVALID_DATE_UPLOADED_VALUE:["Date Uploaded value is invalid."],JOIN_FLICKR:["Join Flickr"],DATE_UPLOADED_BEFORE_ACCOUNT:["Date Uploaded must be after your account creation date of ",{type:"date",valueName:"intlDate",format:"long"},"."],DOWNLOAD:["Download"],CHOOSE_VALID_DATE:["Please choose a valid date."],CHANGE:["Change"],FUTURE_DATE_TAKEN:["Date Taken is set to the future."],BY_USER:["by ","${user}"],BY_YOU:["by YOU!"],PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC:["There was a problem uploading your photo. Please try again."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE:["Looks like this photo has an invalid file type. Upload a photo that is either a PNG or JPG."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE:["Looks like this photo is too large to upload. The largest photo size we can upload is 250 MB."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT:["Select only one photo to upload."],PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY:['Looks like this photo doesn\'t meet the minimum requirements to get printed. Please choose a photo that\'s at least 975 &times; 825 pixels. Learn more about <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567" target="_blank">requirements</a> for print products.'],PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE:['Sorry, we cannot print photos with a CMYK or ProPhoto RGB colorspace. We recommend photos with an sRGB color space. <a href="https://help.yahoo.com/kb/flickr/creations-faq-sln22216.html?impressions=true#cont33" target="_blank">Learn more</a>.'],PHOTO_SELECTOR_BACK_TO_ALBUM_LIST:["Back to album list"],PHOTO_SELECTOR_BACK_TO_CATEGORY_LIST:["Back to category list"],PHOTO_SELECTOR_BACK_TO_SEARCH_LIST:["Back to search list"],PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS:["No public photos."],PHOTO_SELECTOR_EMPTY_PHOTOS:["No photos."],PHOTO_SELECTOR_NO_ALBUMS:["No albums."],MARKETPLACE:["Marketplace"],USERS_FAVES:["${who}","’s favorites"],USERS_ALBUMS:["${who}","’s albums"],LOAD_MORE_RESULTS:["Load more results"],CREATE_AN_ACCOUNT:["Create an account"],SIGN_IN_MESSAGE:["Sign in to Flickr using your Yahoo account to get started."],MISMATCHED_NSID_ERROR:['Something went wrong. Click "OK" to reload the page, or "Cancel" if you want to continue to browse the page (you won\'t be able to perform any actions, however).'],NETWORK_CONNECTIVITY_ISSUE:['Something went wrong reading data from our server.  Please verify your network settings and browser plugin/extension configurations.<br><br>Click "OK" to reload the page, or "Cancel" if you want to continue to browse the page (you may not be able to perform any actions, however).'],IE_STORAGE_ISSUE:['Something went wrong displaying images in your browser.  Please verify your browser settings at <b>Tools > Internet Options > General tab, Browsing history, \'Settings\' button > caches and databases</b>.<br><br>Click "OK" to reload the page, or "Cancel" if you want to continue to browse the page (you may not be able to perform any actions, however).'],PHOTO_REMOVE_ERROR:["Something went wrong removing the photo...please try again."],LEARN_MORE:["Learn more"],LEARN_MORE_ABOUT_PRO:["Learn more about Pro"],EVERYTHING:["Everything"],ALPHA:["Alpha"],BACK:["Back"],UNTITLED:["Untitled"],HIDE_PHOTOS_FROM_PERSON:["Temporarily hide all photos from this person"],SHOW_MORE:["Show more"],CHOOSE_FILE:["Choose file"],PHOTO_BOOKS:["Photo books"],WALL_ART:["Wall art"],UPLOADING:["Uploading"],NUMERIC_PROGRESS_COUNT:["${progress}"," of ","${total}"],UPLOAD_DROP_TARGET:["Let go! We'll take it from here."],DRAG_AND_DROP:["You can drag and drop photos anywhere on this page"],OR:["or"],SELECT_FILES_TO_UPLOAD:["Select files to upload"],INSTALL:["Install"],INSTALL_FLICKR_UPLOADER_FOR_MAC:["Install Flickr Uploadr for Mac to quickly and safely backup your entire photo collection."],INSTALL_FLICKR_UPLOADER_FOR_WINDOWS:["Install Flickr Uploadr for Windows to quickly and safely backup your entire photo collection."],FLICKR_IS_ALMOST_CERTAINLY:["Flickr is almost certainly the best online photo management and sharing application in the world. Show off your favorite photos and videos to the world, securely and privately show content to your friends and family, or blog the photos and videos you take with a cameraphone."],TOGGLE_SLIDESHOW:["Toggle slideshow"],UPLOAD_MORE_INFO:['For details about our supported file formats, <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">click here</a>.'],UPLOAD_ERROR_TITLE:["Uh oh..."],UPLOAD_ERROR_CATEGORY_INVALID:['Either we don\'t support these file types, or the files are damaged. <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">Click here</a> for more info.'],UPLOAD_ERROR_CATEGORY_GENERIC:['These files failed to upload. You might try uploading them again. <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">Click here</a> for more info.'],TRY_MDOT:["Try Flickr optimized for your mobile device"],VIDEO_NOT_SUPPORTED:["I'm sorry. Your browser doesn't support HTML5 video."],UNBLOCK:["Unblock"],START_SLIDESHOW:["Start slideshow"],EACH_FLICKR_ACCOUNT_HAS_STORAGE:["Each Flickr account comes with 1,000GB of free photo storage."],BUY_LICENSE:["License"],BUY_PHOTO:["Buy photo"],BUY:["Buy"],LICENSE_PHOTO:["License photo"],HAVE_YAHOO_ACCOUNT:["Have a Yahoo account?"],SIGN_UP_WITH_YAHOO:["Sign up with Yahoo"],SIGN_INTO_FLICKR:["Sign into Flickr"],NEVER_DELETE_WITH_ONE_TB:["Never delete a photo again with one terabyte of free storage."],CLICK_BUTTON_THIRD_PARTY:["Clicking this button will take you to a third party website."],LICENSE_TITLE_0:["All rights reserved"],LICENSE_DESC_0:["You must request permission from the creator to use this work."],LICENSE_TITLE_1:["Attribution, non-commercial, share alike"],LICENSE_DESC_1:["You can use this work, but only in a non-commercial way, so long as credit is given to the creator. You must then allow your work to be used under the same terms."],LICENSE_TITLE_2:["Attribution, non-commercial"],LICENSE_DESC_2:["You can use this work, but only in a non-commercial way, so long as credit is given to the creator."],LICENSE_TITLE_3:["Attribution, non-commercial, no derivatives"],LICENSE_DESC_3:["You can use this work, in its original form without any modifications and only in a non-commercial way, so long as credit is given to the creator."],LICENSE_TITLE_4:["Attribution only"],LICENSE_DESC_4:["You can use this work so long as credit is given to the creator."],LICENSE_TITLE_5:["Attribution, share alike"],LICENSE_DESC_5:["You can use this work so long as credit is given to the creator. You must then allow your work to be used under the same terms."],LICENSE_TITLE_6:["Attribution, no derivatives"],LICENSE_DESC_6:["You can use this work, in its original form without any modifications, so long as credit is given to the creator."],LICENSE_TITLE_7:["No known restrictions"],LICENSE_DESC_7:["The individual or organization posting the work is unaware of any restrictions. You should review the work prior to proceeding with use."],LICENSE_TITLE_8:["U.S. government works"],LICENSE_DESC_8:["Copyright protection is not available for any work of the United States Government."],LICENSE_TITLE_9:["Dedicated public domain work"],LICENSE_DESC_9:["You can use this work since the copyright is no longer enforced."],LICENSE_TITLE_10:["Public domain work"],LICENSE_DESC_10:["You can use this work since the copyright has expired."],TRENDING:["Trending"],GROUP_YOUR_BEST_SHOT:["Your Best Shot 2015"],GROUP_YOUR_BEST_SHOT_2016:["Your Best Shot 2016"],DELETED_USER:["deleted"],EXPLORE_SLOW:["We're having some trouble displaying Explore at the moment. Please try again."],MODULES_BLOCKED:['Something went wrong loading required modules to display this page.  Please disable any browser extensions that may be blocking the page resources.<br><br>After disabling extensions, click "OK" to reload the page, or "Cancel" if you want to continue to browse the page (you may not be able to perform any actions, however).'],HOME:["Home"],MAIN:["Main"],SECONDARY:["Secondary"],FILTER:["Filter"],CLOSE:["Close"],USER_ICON:["user icon"],GROUP_ICON:["group icon"],AD_ICON:["ad icon"],ADD_TO_FAVORITES:["Add to Favorites"],LEFT_ARROW:["Left arrow"],RIGHT_ARROW:["Right arrow"],DONT_SHOW_IN_FEED:["Don't show in my feed"],SHOW_IN_FEED:["Show in my feed"],SEARCH_FOR_SIMILAR_PHOTOS:["Search for similar photos"],SEARCH_FOR_SIMILAR_PHOTOS_WITH_TERM:["Search for similar photos with original search term"],FAVES_SHORT:["Faves"],GROUP_BAN_USER:["Ban user from the group"],GROUP_BAN_USER_REMOVE_PHOTOS:["Ban user and remove their photos from the group"],GROUP_REMOVE_USER:["Remove user from the group"],GROUP_REMOVE_USER_REMOVE_PHOTOS:["Remove user and their photos from the group"],REFRESH:["Refresh"],ALMOST_DONE:["Almost done..."],GROUPS:["Groups"],"404_PHOTOSTREAM_DELETED":["It appears the photostream you seek no longer exists."],"404_PHOTOSTREAM_NONEXISTENT":["It appears the photostream you seek doesn’t exist."],"404_PROFILE_DELETED":["It appears the profile you seek no longer exists."],"404_PROFILE_NONEXISTENT":["It appears the profile you seek doesn’t exist."],"404_PHOTO_VIDEO_NONEXISTENT":["It appears the photo or video you seek no longer exists."],"404_PHOTO_VIDEO_PRIVATE":["It appears you don’t have permission to view this photo or video."],"404_ALBUM_NONEXISTENT":["It appears the album you seek doesn’t exist."],"404_ALBUM_PRIVATE":["It appears you don’t have permission to view this album."],"404_GROUP_NONEXISTENT":["It appears the group you seek doesn’t exist."],"404_GROUP_PRIVATE":["It appears you don’t have permission to view this group."],"404_GROUP_TOPIC_NONEXISTENT":["It appears the discussion topic you seek doesn’t exist."],"404_GROUP_REPLY_NONEXISTENT":["It appears the discussion reply you seek doesn’t exist."],"404_EXPLORE_NONEXISTENT":["It appears there are no photos for the requested date."],"404_PERSON_NONEXISTENT":["It appears the account you seek doesn’t exist."],"404_DOWNLOAD_NONEXISTENT":["It appears the download you seek doesn’t exist."],"404_GALLERY_NONEXISTENT":["It appears the gallery you seek doesn’t exist."],DISMISS:["Dismiss"],BLURB:["Blurb"],ALPHA_GROUP_SHARE_FEEDBACK:['This new Flickr feature is only visible to Alpha Group members. Please share your feedback <a href="',"${url}",'" target="_blank">here</a>.'],JUSTIFIED_VIEW:["Justified view"],THUMBNAIL_VIEW:["Thumbnail view"],TILE_VIEW:["Tile view"],LARGE_VIEW:["Large view"]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-search-photos-single-row",function(l,e){var a=l.Template.Handlebars.revive({1:function(l,e,a,n,t){var s,r,i=null!=e?e:{};return'\t<h5 class="search-results-header">'+(null!=(s=a.unless.call(i,null!=e?e.loading:e,{name:"unless",hash:{},fn:l.program(2,t,0),inverse:l.noop,data:t}))?s:"")+l.escapeExpression("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:a.helperMissing)?r.call(i,{name:"title",hash:{},data:t}):r)+" "+(null!=(s=a.if.call(i,null!=e?e.loading:e,{name:"if",hash:{},fn:l.program(6,t,0),inverse:l.noop,data:t}))?s:"")+"</h5>\n"+(null!=(s=a.if.call(i,null!=e?e.loading:e,{name:"if",hash:{},fn:l.program(8,t,0),inverse:l.program(10,t,0),data:t}))?s:"")},2:function(l,e,a,n,t){var s;return null!=(s=a.unless.call(null!=e?e:{},null!=e?e.singleResult:e,{name:"unless",hash:{},fn:l.program(3,t,0),inverse:l.noop,data:t}))?s:""},3:function(l,e,a,n,t){var s,r,i=null!=e?e:{},u=a.helperMissing,o=l.escapeExpression;return'<a href="'+o("function"==typeof(r=null!=(r=a.viewAll||(null!=e?e.viewAll:e))?r:u)?r.call(i,{name:"viewAll",hash:{},data:t}):r)+'" class="view-more-link"'+(null!=(s=a.if.call(i,null!=e?e.viewAllDataTrack:e,{name:"if",hash:{},fn:l.program(4,t,0),inverse:l.noop,data:t}))?s:"")+">"+o((a.intlHTMLMessage||e&&e.intlHTMLMessage||u).call(i,{name:"intlHTMLMessage",hash:{count:null!=e?e.total:e,intlName:"search.VIEW_ALL_COUNT"},data:t}))+"</a>"},4:function(l,e,a,n,t){var s;return' data-track="'+l.escapeExpression("function"==typeof(s=null!=(s=a.viewAllDataTrack||(null!=e?e.viewAllDataTrack:e))?s:a.helperMissing)?s.call(null!=e?e:{},{name:"viewAllDataTrack",hash:{},data:t}):s)+'"'},6:function(l,e,a,n,t){return'<div class="flickr-dots inline"></div>'},8:function(l,e,a,n,t){var s;return'\t\t<div style="height: '+l.escapeExpression("function"==typeof(s=null!=(s=a.placeholderHeight||(null!=e?e.placeholderHeight:e))?s:a.helperMissing)?s.call(null!=e?e:{},{name:"placeholderHeight",hash:{},data:t}):s)+'px;"></div>\n'},10:function(l,e,a,n,t){return"\t\t"+l.escapeExpression((a.outlet||e&&e.outlet||a.helperMissing).call(null!=e?e:{},null!=e?e["photo-list-view"]:e,{name:"outlet",hash:{},data:t}))+"\n"},compiler:[7,">= 4.0.0"],main:function(l,e,a,n,t){var s;return null!=(s=a.unless.call(null!=e?e:{},null!=e?e.emptySearch:e,{name:"unless",hash:{},fn:l.program(1,t,0),inverse:l.noop,data:t}))?s:""},useData:!0}),n={};l.Array.each([],function(e){var a=l.Template.get("hermes/"+e);a&&(n[e]=a)}),l.Template.register("hermes/search-photos-single-row",function(e,t){return t=t||{},t.partials=t.partials?l.merge(n,t.partials):n,a(e,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-photo-list-aft",function(t,n){var e=t.Template.Handlebars.revive({1:function(t,n,e,a,i){var r=t.lambda,l=t.escapeExpression;return"\t\t\t\t\timg = new Image();\n\t\t\t\t\timg.addEventListener('load', function onImageLoad (event) {\n\t\t\t\t\t\tthis.removeEventListener('load', onImageLoad);\n\t\t\t\t\t\ttimingCache['"+l(r(null!=n?n.id:n,n))+"'] = new Date().getTime();\n\t\t\t\t\t});\n\t\t\t\t\timg.src='"+l(r(null!=n?n.url:n,n))+"';\n"},compiler:[7,">= 4.0.0"],main:function(t,n,e,a,i){var r,l,o=null!=n?n:{},s=e.helperMissing,c=t.escapeExpression;return'<script type="text/javascript" nonce="'+c("function"==typeof(l=null!=(l=e.cspNonce||(null!=n?n.cspNonce:n))?l:s)?l.call(o,{name:"cspNonce",hash:{},data:i}):l)+"\">\n\ttry {\n\n\t\t(function () {\n\n\t\t\t\tif (!window.paftTiming) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar timingCache = {},\n\t\t\t\t    img;\n\n\t\t\t\twindow.paftTiming['"+c("function"==typeof(l=null!=(l=e.photolistId||(null!=n?n.photolistId:n))?l:s)?l.call(o,{name:"photolistId",hash:{},data:i}):l)+"'] = timingCache;\n\n"+(null!=(r=e.each.call(o,null!=n?n.photos:n,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?r:"")+"\n\t\t})();\n\n\t} catch (error) {\n\n\t\tif (window.sendRequest){\n\t\t\twindow.sendRequest('flickr.hermes.photolistAFT.failure', 'Photolist timing failed.');\n\t\t}\n\t}\n<\/script>\n"},useData:!0}),a={};t.Array.each([],function(n){var e=t.Template.get("hermes/"+n);e&&(a[n]=e)}),t.Template.register("hermes/photo-list-aft",function(n,i){return i=i||{},i.partials=i.partials?t.merge(a,i.partials):a,e(n,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-infinite-scroll-load-more",function(e,a){var t=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,a,t,l,n){return'<div class="infinite-scroll-load-more">\n\t<button class="alt">'+e.escapeExpression((t.intlMessage||a&&a.intlMessage||t.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"common.LOAD_MORE_RESULTS"},data:n}))+"</button>\n</div>"},useData:!0}),l={};e.Array.each([],function(a){var t=e.Template.get("hermes/"+a);t&&(l[a]=t)}),e.Template.register("hermes/infinite-scroll-load-more",function(a,n){return n=n||{},n.partials=n.partials?e.merge(l,n.partials):l,t(a,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-license-detail",function(e,a){var s=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,a,s,l,t){var n=null!=a?a:{},i=s.helperMissing,r=e.escapeExpression;return'<p class="secondary" style="margin-top: 0;">'+r((s.intlMessage||a&&a.intlMessage||i).call(n,{name:"intlMessage",hash:{intlName:null!=a?a.title:a},data:t}))+'</p>\n<p class="secondary" style="margin-bottom: 0;">'+r((s.intlMessage||a&&a.intlMessage||i).call(n,{name:"intlMessage",hash:{intlName:null!=a?a.body:a},data:t}))+"</p>\n"},useData:!0}),l={};e.Array.each([],function(a){var s=e.Template.get("hermes/"+a);s&&(l[a]=s)}),e.Template.register("hermes/license-detail",function(a,t){return t=t||{},t.partials=t.partials?e.merge(l,t.partials):l,s(a,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-list-layout-row",function(t){(t.PhotoListLayoutRow=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.additionalHeight=t.additionalHeight||0,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight||Number.NEGATIVE_INFINITY,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight||Number.POSITIVE_INFINITY,this.rightToLeft=t.rightToLeft,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(i){var e,h,s,o=this.items.concat(i),a=this.width-(o.length-1)*this.spacing,g=o.reduce(function(t,i){return t+i.aspectRatio},0),r=a/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&i.aspectRatio>=1?(this.items.push(t.merge(i)),this._completeLayout(a/i.aspectRatio),!0):0!==g&&(g<this.minAspectRatio?(this.items.push(t.merge(i)),!0):g>this.maxAspectRatio?0===this.items.length?(this.items.push(t.merge(i)),this._completeLayout(a/g),!0):(e=this.width-(this.items.length-1)*this.spacing,h=this.items.reduce(function(t,i){return t+i.aspectRatio},0),s=e/this.targetRowHeight,Math.abs(g-r)>Math.abs(h-s)?(this._completeLayout(e/h),!1):(this.items.push(t.merge(i)),this._completeLayout(a/g),!0)):(this.items.push(t.merge(i)),this._completeLayout(a/g),!0))},forceComplete:function(t,i){var e=this.width-(this.items.length-1)*this.spacing,h=this.items.reduce(function(t,i){return t+i.aspectRatio},0);"number"==typeof i?this._completeLayout(i,!1):t?this._completeLayout(e/h):this._completeLayout(this.targetRowHeight,!1)},isLayoutComplete:function(){return this.height>0},getItems:function(){return this.rightToLeft?this.items.reverse():this.items},getIndexOfItem:function(t){var i=-1;return this.items.some(function(e,h){if(e.id===t)return i=h,!0}),i},setTop:function(t){this.top=t,this.items.forEach(function(i){i.geometry.top=t})},_completeLayout:function(t,i){var e,h,s,o,a,g,r=this.rightToLeft?-this.left:this.left,n=this.width-(this.items.length-1)*this.spacing,m=this;void 0===i&&(i=!0),(h=Math.round(t))!==(s=Math.max(this.edgeCaseMinRowHeight,Math.min(h,this.edgeCaseMaxRowHeight)))?(this.height=s,e=n/s/(n/h)):(this.height=h,e=1),this.items.forEach(function(t,i){t.geometry={top:m.top,width:Math.round(t.aspectRatio*m.height*e),height:m.height+m.additionalHeight},m.rightToLeft?t.geometry.left=m.width-r-t.geometry.width:t.geometry.left=r,r+=t.geometry.width+m.spacing}),this.height+=m.additionalHeight,i&&(this.rightToLeft||(r-=this.spacing+this.left),o=(r-this.width)/this.items.length,a=this.items.map(function(t,i){return Math.round((i+1)*o)}),1===this.items.length?((g=this.items[0].geometry).width-=Math.round(o),this.rightToLeft&&(g.left+=Math.round(o))):this.items.forEach(function(t,i){i>0?(t.geometry.left-=a[i-1],t.geometry.width-=a[i]-a[i-1]):t.geometry.width-=a[i]}))}}},"@VERSION@",{requires:[]});YUI.add("photo-list-layout",function(t,e){var i=require("hermes-core/flog")(e),a={containerPadding:{top:8,right:8,bottom:8,left:8},itemSpacing:{horizontal:8,vertical:8},targetRowHeight:320,targetRowHeightTolerance:.25,awakeBoundsToViewportSizeRatio:3,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:Number.NaN,alwaysDisplayOrphans:!1,sleepTopAndBottom:!0,sleepLeftAndRight:!1,fullWidthBreakoutRowCadence:!1,deferWakeSleepUntil:2500};(t.PhotoListLayout=function(e){if(!e.appContext)throw new Error("PhotoListLayout must be instantiated with `params.appContext`.");e=t.merge(a,e),this.appContext=e.appContext,this.containerWidth=e.containerWidth,this.viewportContainerNodeHeight=e.viewportContainerNodeHeight||this.appContext.viewportData.getHeight(),this.containerPadding=e.containerPadding,this.itemSpacing=e.itemSpacing,this.targetRowHeight=e.targetRowHeight,this.targetRowHeightTolerance=e.targetRowHeightTolerance,this.awakeBoundsToViewportSizeRatio=e.awakeBoundsToViewportSizeRatio,this.maxNumRows=e.maxNumRows,this.forceAspectRatio=e.forceAspectRatio,this.alwaysDisplayOrphans=e.alwaysDisplayOrphans,this.sleepTopAndBottom=e.sleepTopAndBottom,this.sleepLeftAndRight=e.sleepLeftAndRight,this.fullWidthBreakoutRowCadence=e.fullWidthBreakoutRowCadence,this.deferWakeSleepUntil=e.deferWakeSleepUntil,this.additionalHeight=e.additionalHeight||0,this._layoutItems=[],this._awakeItems=[],this._inViewportItems=[],this._leadingOrphans=[],this._trailingOrphans=[],this._containerHeight=this.containerPadding.top,this._rows=[],this._orphans=[]}).prototype={getCurrentLayout:function(){return this._layoutItems.concat()},getAwakeItems:function(){return this._awakeItems.concat()},getInViewportItems:function(){return this._inViewportItems.concat()},hasLimitedNumberOfRows:function(){return this.maxNumRows!==a.maxNumRows},getLayoutItem:function(t){var e=null;return this._layoutItems.some(function(i){if(i.id===t)return e=i,!0}),e},getItemsInRow:function(t){return this._rows.length<=t?[]:this._rows[t].items.concat()},invalidateItem:function(t){var e,i=function(i,a,o){if(i.id===t)return o.splice(a,1),e=!0,!0};return this._layoutItems.some(i),this._leadingOrphans.some(i),this._trailingOrphans.some(i),this._rows.some(function(t){return t.items.some(i)}),this._orphans.some(i),e},clear:function(){this._layoutItems=[],this._leadingOrphans=[],this._trailingOrphans=[],this._containerHeight=this.containerPadding.top,this._rows=[],this._orphans=[]},updateTargetRowHeight:function(t){this.targetRowHeight=t,this.updatedRowHeight=this.targetRowHeight},computeLayout:function(t,e,a,o){var s,n,h,r,l,c,g,p,d,u={},m=[],w=[],f=[],_=!1,y=this;switch(this.containerWidth||(i.log("No valid containerWidth set on photo-list-layout; falling back to default"),this.containerWidth=1060),t||(t=[]),this.forceAspectRatio&&t.forEach(function(t){t.forcedAspectRatio=!0,t.aspectRatio=y.forceAspectRatio}),s=this._layoutItems.concat(),this._layoutItems.forEach(function(t){u[t.id]=t}),o||(o={diffType:"append"}),o.diffType){case"prepend":t=t.concat(this._leadingOrphans),this._leadingOrphans=[],t.reverse(),_=!0;break;case"merge":i.log("Due to the whims of product management, `merge` layouts are not yet implemented."),this.updateLayoutFrom(t,o.mergeStartIndex);break;case"relayout":o.diffDirection?"top"===o.diffDirection?t=t.concat(this._leadingOrphans.concat(this._layoutItems.concat(this._trailingOrphans))):"bottom"===o.diffDirection&&(t=this._leadingOrphans.concat(this._layoutItems.concat(this._trailingOrphans)).concat(t)):t=this._leadingOrphans.concat(this._layoutItems.concat(this._trailingOrphans)),this.clear();break;case"append":default:t=this._trailingOrphans.concat(t),this._trailingOrphans=[],this._rows.length>1&&(this._containerHeight=this._containerHeight-this.containerPadding.bottom+this.itemSpacing.vertical)}return t.some(function(t,e){if(r=!1,n||(n=y.createNewRow(_)),h=n.addItem(t),n.isLayoutComplete()){if(m=m.concat(y.addRow(n,_)),y._rows.length>=y.maxNumRows)return n=null,!0;if(n=y.createNewRow(_),!h)if(h=n.addItem(t),n.isLayoutComplete()){if(m=m.concat(y.addRow(n,_)),y._rows.length>=y.maxNumRows)return n=null,!0;n=y.createNewRow(_)}else h||(r=!0)}else h||(r=!0);r&&i.warn("computeLayout() Item not added and layout not complete",t)}),this._rows.length>=this.maxNumRows?(this._layoutItems||(i.warn("computeLayout() LayoutItems are unexpectedly undefined"),this._layoutItems=[]),this._trailingOrphans=t.slice(this._layoutItems.length)):n&&n.getItems().length&&(_?o.firstPage?(n.forceComplete(!0),m=m.concat(y.addRow(n,_))):this._leadingOrphans=n.getItems().reverse():o.lastPage||this.alwaysDisplayOrphans?(this._rows.length?(d=this._rows[this._rows.length-1].isBreakoutRow?this._rows[this._rows.length-1].targetRowHeight:this._rows[this._rows.length-1].height,n.forceComplete(!1,this.updatedRowHeight||d-this.additionalHeight)):this.alwaysDisplayOrphans&&s.length?s[s.length-1].geometry&&n.forceComplete(!1,this.updatedRowHeight||s[s.length-1].geometry.height):n.forceComplete(!1),m=m.concat(y.addRow(n,_)),delete this.updatedRowHeight):this._trailingOrphans=n.getItems().concat()),m.forEach(function(t){u[t.id]?f.push(t):w.push(t)}),this._containerHeight=this._containerHeight-this.itemSpacing.vertical+this.containerPadding.bottom,_&&(p=this.containerPadding.top,this._rows.forEach(function(t){t.setTop(p),p+=t.height+y.itemSpacing.vertical}),f=s.concat()),g=this.computeWakeSleep(e,a,u),l=g.wakeSleepChangedItems,c=g.inViewportChangedItems,this._trailingOrphans.concat(this._leadingOrphans).forEach(function(t){u[t.id]&&(t.isAwake=!1,l.push(t))}),{allLayoutItems:this._layoutItems.concat(),newItems:w,layoutChangedItems:f,wakeSleepChangedItems:l,inViewportChangedItems:c,leadingOrphans:this._leadingOrphans.concat(),trailingOrphans:this._trailingOrphans.concat(),containerHeight:this._containerHeight}},computeWakeSleep:function(t,e,a){var o=this._awakeItems=[],s=this._inViewportItems=[];t||(t=0),e||(e=0),this.viewportContainerNodeHeight||(i.log("No valid viewport height available for photo-list-layout; falling back to default"),this.viewportContainerNodeHeight=1e3);var n,h,r,l,c,g=this.viewportContainerNodeHeight,p=.5*g*(this.awakeBoundsToViewportSizeRatio-1),d=t,u=t+g,m=d-p,w=u+p,f=[],_=[],y=this._layoutItems.length<this.deferWakeSleepUntil,I=this;return this.sleepLeftAndRight&&(h=.5*(n=this.appContext.viewportData.getWidth())*(this.awakeBoundsToViewportSizeRatio-1),r=e-h,l=e+n+h),this._layoutItems.forEach(function(t){a&&(c=a[t.id]),y?t.isAwake=!0:(I.sleepTopAndBottom?t.isAwake=t.geometry.top+t.geometry.height>=m&&t.geometry.top<w:t.isAwake=!0,t.isAwake&&I.sleepLeftAndRight&&(t.isAwake=t.geometry.left+t.geometry.width>=r&&t.geometry.left<l)),c&&c.isAwake===t.isAwake||f.push(t),t.isAwake&&o.push(t),t.isInViewport=t.geometry.top+t.geometry.height>=d&&t.geometry.top<u,_.push(t),t.isInViewport&&s.push(t)}),{allLayoutItems:a?this._layoutItems:this._layoutItems.concat(),newItems:[],layoutChangedItems:[],wakeSleepChangedItems:f,inViewportChangedItems:_,leadingOrphans:this._leadingOrphans.concat(),trailingOrphans:this._trailingOrphans.concat(),containerHeight:this._containerHeight}},updateLayoutFrom:function(t,e){var i,a,o,s;this._layoutItems.length&&this._layoutItems.length>e&&(i=this._layoutItems[e],(a=this.getRowOfItem(i.id))&&(this._rows=this._rows.slice(0,a.index),o=this._rows[this._rows.length-1],this._containerHeight=o?o.top+o.height:0,a.indexInRow>0&&(s=(s=this._layoutItems.splice(-a.indexInRow)).map(function(t){return{id:t.id,aspectRatio:t.aspectRatio,layoutType:t.layoutType}}),t.unshift.apply(t,s))),this._layoutItems=this._layoutItems.slice(0,Math.min(this._layoutItems.length,e)))},createNewRow:function(e){var i=!1;return!1!==this.fullWidthBreakoutRowCadence&&(this._rows.length+1)%this.fullWidthBreakoutRowCadence==0&&(i=!0),new t.PhotoListLayoutRow({top:this._containerHeight,left:this.containerPadding.left,width:this.containerWidth-this.containerPadding.left-this.containerPadding.right,spacing:this.itemSpacing.horizontal,targetRowHeight:this.targetRowHeight,targetRowHeightTolerance:this.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*this.targetRowHeight,edgeCaseMaxRowHeight:2*this.targetRowHeight,rightToLeft:e,isBreakoutRow:i,additionalHeight:this.additionalHeight})},addRow:function(t,e){return e?(this._rows.unshift(t),this._layoutItems=t.getItems().reverse().concat(this._layoutItems)):(this._rows.push(t),this._layoutItems=this._layoutItems.concat(t.getItems())),this._containerHeight+=t.height+this.itemSpacing.vertical,t.items},getRowOfItem:function(t){var e,i,a;for(i=0;i<this._rows.length;i++)if(e=this._rows[i],-1!==(a=e.getIndexOfItem(t)))return{row:e,index:i,indexInRow:a};return null}}},"@VERSION@",{requires:["photo-list-layout-row"]});YUI.add("hermes-template-photo-list-photo",function(e,a){var n=e.Template.Handlebars.revive({1:function(e,a,n,r,t){var l;return(null!=(l=n.if.call(null!=a?a:{},null!=a?a.showInteractionBarPlaceholder:a,{name:"if",hash:{},fn:e.program(2,t,0),inverse:e.noop,data:t}))?l:"")+'\t<div class="interaction-view"></div>\n'},2:function(e,a,n,r,t){return'\t\t<div class="interaction-view-placeholder"></div>\n'},4:function(e,a,n,r,t){var l;return'\t<a class="click-target" href="'+e.escapeExpression("function"==typeof(l=null!=(l=n.photoPageUrl||(null!=a?a.photoPageUrl:a))?l:n.helperMissing)?l.call(null!=a?a:{},{name:"photoPageUrl",hash:{},data:t}):l)+'" tabindex="0" role="heading" aria-level="3"></a>\n'},compiler:[7,">= 4.0.0"],main:function(e,a,n,r,t){var l;return null!=(l=n.if.call(null!=a?a:{},null!=a?a.hasInteraction:a,{name:"if",hash:{},fn:e.program(1,t,0),inverse:e.program(4,t,0),data:t}))?l:""},useData:!0}),r={};e.Array.each([],function(a){var n=e.Template.get("hermes/"+a);n&&(r[a]=n)}),e.Template.register("hermes/photo-list-photo",function(a,t){return t=t||{},t.partials=t.partials?e.merge(r,t.partials):r,n(a,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-list-photo-view",function(e){var t=require("hermes-core/type-validator");e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.set("isZombie",!YUI.Env.isServer&&e.requiredToShowOnServer&&this.get("layoutItem")&&!this.get("layoutItem").isAwake),this},loadState:function(){var t=e.URLHelper.getPhotoPage({photoId:this.get("model").getValue("id"),pathAlias:this.get("model").getValue("owner").getValue("pathAlias"),contextSuffix:this.get("contextSuffix")});return this.set("photoPageUrl",t),e.Promise.resolve()},buildContainer:function(){var t,i=this.get("container"),r=this.get("layoutItem");if(r.isAwake)this.updateGeometry(),this.setContainerHTML(this.render()),YUI.Env.isServer?(i.setStyles({"background-image":"url("+this.get("photoUrl")+")"}),i.addClass("awake"),this.get("model").getValue("needsInterstitial")&&i.addClass("restricted-image")):(this.get("showLowResImageFirst")&&i.setStyles({backgroundImage:"url("+this.get("model").getValue("sizes").sq.url+")"}).addClass("low-res"),this.downloadCacheAndSetImage());else if(YUI.Env.isServer)this.set("isZombie",!0);else if(!YUI.Env.isServer||this.get("isZombie")){var a="";t=e.Node.create(this.get("placeHolderHTML")).set("innerHTML",this.render()),this.get("model").getValue("needsInterstitial")&&(a=" restricted-image"),t.setAttrs({id:i.getAttribute("id"),className:i.getAttribute("class")+a}),this.updateNodeGeometry(r,t),this.serialize(t),this.set("isReallySleeping",!0),this.set("isZombie",!1),this.downloadCacheAndSetImage()}return this.get("model").getValue("isVideo")&&this.get("container").addClass("is-video"),this.get("showInteractionBarPlaceholder")&&(this.get("model").getValue("aspectRatio")>1?i.addClass("landscape"):i.addClass("portrait")),this},activate:function(){var e;return this.renderInteractionView().then(function(e){this.fire("activated")}.bind(this)),this.get("showLowResImageFirst")&&((e=this.get("parentContainer").getDOMNode()).addEventListener("transitionend",this.removeTransition),e.addEventListener("webkitTransitionEnd",this.removeTransition)),this.registerEventHandler(this.get("interactionContainer").delegate(["blur","focus"],this.toggleKeyboardFocusStyling.bind(this),"a")),this},toggleKeyboardFocusStyling:function(e){var t=e.target.ancestor(".interaction-view");t&&t.toggleClass("has-keyboard-focus")},setHoverVisible:function(e){var t=this.get("interactionContainer");t&&(e?t.addClass("manual-hover"):t.removeClass("manual-hover"))},render:function(){return this.templates("photo-list-photo")({photoPageUrl:this.get("photoPageUrl"),hasInteraction:!!this.get("interactionViewName")&&!this.appContext.forceServerRender,showInteractionBarPlaceholder:this.get("showInteractionBarPlaceholder")})},removeTransition:function(e){e&&e.target&&e.target.classList&&e.target.classList.contains("photo-list-photo-view")&&e.target.classList.remove("low-res")},downloadCacheAndSetImage:function(){e.fluid.loadImage(this.get("photoUrl"),{timeout:1e3,retry:!0}).then(function(e){this.handleImageLoad(!0,e)}.bind(this),function(e){this.handleImageLoad(!1,e+"?retry="+Date.now())}.bind(this))},handleImageLoad:function(t,i){var r,a=this.get("isReallySleeping");(r=a?this.deserialize():this.get("container")).setStyle("backgroundImage","url("+i+")"),t||r.setStyle("backgroundColor","#eee"),this.get("model").getValue("needsInterstitial")&&r.addClass("restricted-image"),a?this.serialize(r):e.fluid.chill(function(){var e=this.get("container");a||(e.addClass("awake"),this.fire(t?"loaded":"loadError"))},this),r=null},updateGeometry:function(e){var t,i=this.get("isReallySleeping");e?this.set("layoutItem",e):e=this.get("layoutItem"),t=i?this.deserialize():this.get("container"),this.updateNodeGeometry(e,t),i&&this.serialize(t),t=null},updateNodeGeometry:function(t,i){YUI.Env.isServer?i.setStyles({transform:"translate("+t.geometry.left+"px, "+t.geometry.top+"px)","-webkit-transform":"translate("+t.geometry.left+"px, "+t.geometry.top+"px)","-ms-transform":"translate("+t.geometry.left+"px, "+t.geometry.top+"px)"}):e.fluid.setStylePrefixed("transform","translate("+t.geometry.left+"px, "+t.geometry.top+"px)",i),i.setStyles({width:t.geometry.width+"px",height:t.geometry.height+"px"})},sleep:function(){var t,i;this.get("isReallySleeping")||(YUI.Env.isServer?this.set("isZombie",!0):(this.get("id"),this.destroyInteractionView(),(i=this.get("container")).removeClass("awake"),this.serialize(i),t=e.Node.create(this.get("placeHolderHTML")),this.get("parentContainer").replaceChild(t,i),this.set("container",t),this.set("isReallySleeping",!0),this.set("isZombie",!1),i=null))},wake:function(){var t,i,r;this.get("isReallySleeping")&&(this.get("id"),t=this.get("container"),i=this.get("parentContainer"),r=this.deserialize(),i.replaceChild(r,t),this.set("container",r),this.set("isReallySleeping",!1),this.renderInteractionView(),e.fluid.chill(function(){this.get("container").addClass("awake")},this),t=null)},isAwake:function(){return!this.get("isReallySleeping")},serialize:function(t){if(YUI.Env.isServer)throw new Error("Impossible to `serialize` on the server (uses sessionStorage). Maybe you meant to call `sleep`?");t&&e.Storage.Instance.set(this.get("storageId"),t.getDOMNode().outerHTML)},deserialize:function(){if(YUI.Env.isServer)throw new Error("Impossible to `deserialize` on the server (uses sessionStorage). Maybe you meant to call `wake`?");var t,i=e.Storage.Instance.get(this.get("storageId"));return i&&(t=e.Node.create(i),this.dematerialize()),t},dematerialize:function(){if(YUI.Env.isServer)throw new Error("Impossible to `dematerialize` on the server (uses sessionStorage).");e.Storage.Instance.remove(this.get("storageId"))},renderInteractionView:function(){var t,i=this.get("interactionViewName"),r=this.get("interactionView");return i&&!r?this.appContext.getView(i,e.merge(this._params,{id:this.get("id"),container:this.get("interactionContainer"),model:this.get("model"),listModelParams:this.get("listModelParams"),photoPageUrl:this.get("photoPageUrl"),isActiveViewAgnostic:this.get("isActiveViewAgnostic"),engagementModelName:this.get("engagementModelName"),layoutWidth:this.get("layoutItem").geometry.width})).then(function(e){return this.set("interactionView",e),e.initialize()}.bind(this)):r?(r.get("container").inDoc()||((t=r.get("container")).addClass("interaction-view"),this.get("interactionContainer")||this.buildContainer(),this.get("container").replaceChild(t,this.get("interactionContainer")),r.normalizedActivate()),e.Promise.resolve(r)):e.Promise.resolve(null)},destroyInteractionView:function(){var e=this.get("interactionView");e&&(e.destroy(),this.set("interactionView",null))},destructor:function(){this.dematerialize()}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(e,i){return t.photoId(e)}},parentSignature:{writeOnce:"initOnly"},storageId:{readOnly:!0,derivedBy:["id","parentSignature"],getter:function(){return this.get("parentSignature")+"-"+this.get("id")}},layoutItem:{validator:function(e,t){return"object"==typeof e&&e.hasOwnProperty("aspectRatio")&&e.hasOwnProperty("geometry")&&"object"==typeof e.geometry&&e.geometry.hasOwnProperty("width")&&e.geometry.hasOwnProperty("height")&&e.geometry.hasOwnProperty("top")&&e.geometry.hasOwnProperty("left")&&e.hasOwnProperty("isAwake")}},photoUrl:{value:"/images/spaceball.gif",getter:function(e,t){var i,r=this.get("model"),a=this.get("layoutItem"),n={};return this.get("showInteractionBarPlaceholder")?(r.getValue("aspectRatio")>1?n.height=a.geometry.height-(this.get("interactionBarHeight")||0):n.width=a.geometry.width,i=r.getSizeToFit(n,{includeSquare:1===a.aspectRatio})):i=r.getSizeToFit({width:a.geometry.width,height:a.geometry.height},{includeSquare:1===a.aspectRatio}),i.url}},photoPageUrl:{writeOnce:!0,validator:function(t,i){return e.AttributeHelpers.validateString(t)}},model:{value:null},listModelParams:{value:null},parentContainer:{writeOnce:"initOnly"},contextSuffix:{writeOnce:"initOnly",value:null,validator:function(t,i){return e.AttributeHelpers.validateString(t)}},measureAFT:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)}},isReallySleeping:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)}},isZombie:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)}},placeHolderHTML:{value:'<div class="youcansleepwhenyouredead" />',validator:function(t,i){return e.AttributeHelpers.validateString(t)}},showLowResImageFirst:{value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)}},interactionViewName:{writeOnce:"initOnly",value:null,validator:function(t,i){return e.AttributeHelpers.validateString(t)}},showInteractionBarPlaceholder:{writeOnce:"initOnly",value:!1,validator:function(t,i){return e.AttributeHelpers.validateBoolean(t)}},interactionBarHeight:{writeOnce:"initOnly",value:null,validator:function(t,i){return e.AttributeHelpers.validateInteger(t)}},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(t,i){return e.AttributeHelpers.validateString(t)}},interactionView:{value:null},interactionContainer:{value:null,getter:function(e,t){return e||YUI.Env.isServer||(e=this.get("container").one(".interaction-view")),e}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-list-photo","url-helper","attribute-helpers"],optionalRequires:["fluid","storage-helper"],langBundles:["common"]});YUI.add("fluid",function(e){"use strict";function o(){var o="";if(!n.prefix&&"getComputedStyle"in e.config.win){if(!e.config.win.getComputedStyle(e.config.doc.documentElement,""))return n.prefix;o=(o=Array.prototype.slice.call(e.config.win.getComputedStyle(e.config.doc.documentElement,"")).join("").match(/-(webkit|moz|ms)-/))&&o.length>1?o[1]:"",n.prefix.raw=o.toLowerCase(),n.prefix.css="-"+o+"-",n.prefix.js=o.charAt(0).toUpperCase()+o.slice(1),n.prefix.dom="WebKit|Moz|MS".match(new RegExp("("+o+")","i"))[1]}return n.prefix}function t(o,t){return t=t||{timeout:1e4,retry:!1},t.timeout=parseInt(t.timeout,10),isNaN(t.timeout)&&(t.timeout=1e4),new e.Promise(function(e,r){n.loadImage.imageQueue.push({src:o,options:t,done:e,error:r}),i()})}function i(){var e=null;n.loadImage.currentWorkers<n.loadImage.maxWorkers-1&&n.loadImage.imageQueue.length&&(n.loadImage.currentWorkers++,(e={image:new Image,work:n.loadImage.imageQueue.shift(),timeout:null,loaded:null,finished:null}).finished=(function(e){return function(o){clearTimeout(e.timeout),e.image.removeEventListener("load",e.finished),e.image.removeEventListener("error",e.finished),e.image.removeEventListener("abort",e.finished),"load"===o.type?e.work.done(e.work.src):e.work.options.retry?t(e.work.src,{retry:!1,timeout:e.work.options.timeout}).then((function(e){return function(o){e(o)}})(e.work.done),(function(e){return function(o){e(o)}})(e.work.done)):e.work.error(e.work.src),e.image=null,e=null,n.loadImage.currentWorkers--,i()}})(e),e.image.addEventListener("load",e.finished),e.image.addEventListener("error",e.finished),e.image.addEventListener("abort",e.finished),e.image.src=e.work.src,e.timeout=setTimeout((function(e){return function(){e.finished({type:"error"})}})(e),e.work.options.timeout),e.image.complete&&e.finished({type:"load"}))}var n={prefix:{raw:"",css:"",js:"",dom:""},loadImage:{maxWorkers:8,currentWorkers:0,imageQueue:[],workingWorkers:[]}};o(),e.namespace("fluid"),e.mix(e.fluid,{determineBrowserPrefix:o,setStylePrefixed:function(e,o,t){return""!==n.prefix.css?t.getDOMNode().style.setProperty(n.prefix.css+e,o,null):t.setStyle(e,o),t},supports:function(o){var t=!1;return o+="",(t=o in e.config.doc.body.style)||(o=o.charAt(0).toUpperCase()+o.slice(1),t=n.prefix.raw+o in e.config.doc.body.style),t},prefix:n.prefix,chill:function(o,t){return t=t||e.config.win,new e.Promise(function(i,n){setTimeout(e.bind(function(){i(o.call(t))},t),1)})},loadImage:t,escapeHtml:function(o){var t;return o&&((t=e.config.doc.createElement("div")).appendChild(e.config.doc.createTextNode(o)),o=t.innerHTML),o},getTextFieldCursorPosition:function(o){var t,i;return e.config.doc.selection?((i=e.config.doc.selection.createRange()).moveStart=-o.get("value").length,t=i.text.length):"number"==typeof o.get("selectionStart")&&(t=o.get("selectionStart")),t},getTextFieldSelection:function(){var o="";return void 0!==e.config.win.getSelection?o=e.config.win.getSelection().toString():void 0!==e.config.doc.selection&&"Text"===e.config.doc.selection.type&&(o=e.config.doc.selection.createRange().text),o},removeDiacritics:function(e){var o,t,i={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","ẞ":"SS","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ɶ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ſ":"s","ẛ":"s","ß":"ss","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","０":"0","₀":"0","⓪":"0","⁰":"0","¹":"1","⑴":"1","₁":"1","❶":"1","⓵":"1","⒈":"1","①":"1","１":"1","²":"2","❷":"2","⑵":"2","２":"2","₂":"2","⓶":"2","②":"2","⒉":"2","³":"3","３":"3","⒊":"3","⑶":"3","₃":"3","❸":"3","⓷":"3","③":"3","⓸":"4","④":"4","⒋":"4","４":"4","⁴":"4","₄":"4","❹":"4","⑷":"4","⒌":"5","₅":"5","⓹":"5","⑸":"5","❺":"5","⑤":"5","５":"5","⁵":"5","⑹":"6","⁶":"6","６":"6","❻":"6","₆":"6","⑥":"6","⓺":"6","⒍":"6","７":"7","⁷":"7","❼":"7","⓻":"7","⒎":"7","₇":"7","⑺":"7","⑦":"7","⑧":"8","⒏":"8","⓼":"8","⑻":"8","⁸":"8","８":"8","❽":"8","₈":"8","⓽":"9","９":"9","⒐":"9","❾":"9","⑼":"9","₉":"9","⑨":"9","⁹":"9"},n=e.split(""),r=!1;for(o=n.length-1;o>=0;o--)t=n[o],i.hasOwnProperty(t)&&(n[o]=i[t],r=!0);return r&&(e=n.join("")),e}})},"@VERSION@",{requires:["flickr-promise"],optional:[],affinity:"client"});YUI.add("hermes-template-fluid-droparound",function(n,e){var t=n.Template.Handlebars.revive({1:function(n,e,t,a,l){return" html"},3:function(n,e,t,a,l){return" subview-droparound"},5:function(n,e,t,a,l){return" menu"},7:function(n,e,t,a,l){return" auto-size"},9:function(n,e,t,a,l){var i,s=null!=e?e:{},r=t.helperMissing,o=n.escapeExpression;return"max-height: "+o("function"==typeof(i=null!=(i=t.staticHeight||(null!=e?e.staticHeight:e))?i:r)?i.call(s,{name:"staticHeight",hash:{},data:l}):i)+"px; min-height: "+o("function"==typeof(i=null!=(i=t.staticHeight||(null!=e?e.staticHeight:e))?i:r)?i.call(s,{name:"staticHeight",hash:{},data:l}):i)+"px; "},11:function(n,e,t,a,l){var i;return"width: "+n.escapeExpression("function"==typeof(i=null!=(i=t.staticWidth||(null!=e?e.staticWidth:e))?i:t.helperMissing)?i.call(null!=e?e:{},{name:"staticWidth",hash:{},data:l}):i)+"px;"},13:function(n,e,t,a,l){return"position: fixed;"},15:function(n,e,t,a,l){return"hide-head"},17:function(n,e,t,a,l){var i,s,r=null!=e?e:{},o=t.helperMissing;return'\t\t\t<div class="content text-only'+(null!=(i=t.if.call(r,null!=e?e.autoSizeToContent:e,{name:"if",hash:{},fn:n.program(7,l,0),inverse:n.noop,data:l}))?i:"")+'" style="'+(null!=(i=(t.ifDefined||e&&e.ifDefined||o).call(r,null!=e?e.contentPadding:e,{name:"ifDefined",hash:{},fn:n.program(18,l,0),inverse:n.noop,data:l}))?i:"")+'">\n\t\t\t\t'+n.escapeExpression("function"==typeof(s=null!=(s=t.textMessage||(null!=e?e.textMessage:e))?s:o)?s.call(r,{name:"textMessage",hash:{},data:l}):s)+"\n\t\t\t</div>\n"},18:function(n,e,t,a,l){var i;return"padding: "+n.escapeExpression("function"==typeof(i=null!=(i=t.contentPadding||(null!=e?e.contentPadding:e))?i:t.helperMissing)?i.call(null!=e?e:{},{name:"contentPadding",hash:{},data:l}):i)+"px;"},20:function(n,e,t,a,l){var i,s=null!=e?e:{},r=t.helperMissing;return'\t\t\t<div class="content html-only'+(null!=(i=t.if.call(s,null!=e?e.autoSizeToContent:e,{name:"if",hash:{},fn:n.program(7,l,0),inverse:n.noop,data:l}))?i:"")+'" style="'+(null!=(i=(t.ifDefined||e&&e.ifDefined||r).call(s,null!=e?e.contentPadding:e,{name:"ifDefined",hash:{},fn:n.program(18,l,0),inverse:n.noop,data:l}))?i:"")+'">\n\t\t\t\t'+n.escapeExpression((t.renderTrustedMarkup||e&&e.renderTrustedMarkup||r).call(s,null!=e?e.htmlMessage:e,{name:"renderTrustedMarkup",hash:{},data:l}))+"\n\t\t\t</div>\n"},22:function(n,e,t,a,l){var i,s=null!=e?e:{};return'\t\t\t<div class="content subview'+(null!=(i=t.if.call(s,null!=e?e.autoSizeToContent:e,{name:"if",hash:{},fn:n.program(7,l,0),inverse:n.noop,data:l}))?i:"")+'" style="'+(null!=(i=(t.ifDefined||e&&e.ifDefined||t.helperMissing).call(s,null!=e?e.contentPadding:e,{name:"ifDefined",hash:{},fn:n.program(18,l,0),inverse:n.noop,data:l}))?i:"")+'"></div>\n'},24:function(n,e,t,a,l,i,s){var r,o=null!=e?e:{};return'\t\t\t<div class="content menu" style="'+(null!=(r=(t.ifDefined||e&&e.ifDefined||t.helperMissing).call(o,null!=e?e.contentPadding:e,{name:"ifDefined",hash:{},fn:n.program(18,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'">\n\t\t\t\t<ul role="menu">\n'+(null!=(r=t.each.call(o,null!=e?e.menuItems:e,{name:"each",hash:{},fn:n.program(25,l,0,i,s),inverse:n.noop,data:l}))?r:"")+"\t\t\t\t</ul>\n\t\t\t</div>\n"},25:function(n,e,t,a,l,i,s){var r;return null!=(r=t.if.call(null!=e?e:{},null!=s[1]?s[1].multiSelect:s[1],{name:"if",hash:{},fn:n.program(26,l,0,i,s),inverse:n.program(31,l,0,i,s),data:l}))?r:""},26:function(n,e,t,a,l){var i,s,r=null!=e?e:{};return'\t\t\t\t\t\t\t<li role="menuitem" '+(null!=(i=t.if.call(r,null!=e?e.selected:e,{name:"if",hash:{},fn:n.program(27,l,0),inverse:n.noop,data:l}))?i:"")+'>\n\t\t\t\t\t\t\t\t<span class="selection"></span>\n\t\t\t\t\t\t\t\t'+n.escapeExpression("function"==typeof(s=null!=(s=t.text||(null!=e?e.text:e))?s:t.helperMissing)?s.call(r,{name:"text",hash:{},data:l}):s)+(null!=(i=t.if.call(r,null!=e?e.itemFlag:e,{name:"if",hash:{},fn:n.program(29,l,0),inverse:n.noop,data:l}))?i:"")+"\n\t\t\t\t\t\t\t</li>\n"},27:function(n,e,t,a,l){return'class="selected"'},29:function(n,e,t,a,l){var i,s=null!=e?e:{},r=t.helperMissing,o=n.escapeExpression;return" - "+o("function"==typeof(i=null!=(i=t.itemFlag||(null!=e?e.itemFlag:e))?i:r)?i.call(s,{name:"itemFlag",hash:{},data:l}):i)+'<div class="label-new">'+o("function"==typeof(i=null!=(i=t.itemFlag||(null!=e?e.itemFlag:e))?i:r)?i.call(s,{name:"itemFlag",hash:{},data:l}):i)+"</div>"},31:function(n,e,t,a,l){var i,s,r=null!=e?e:{};return'\t\t\t\t\t\t\t<li role="menuitem" '+(null!=(i=t.if.call(r,null!=e?e.isSelected:e,{name:"if",hash:{},fn:n.program(32,l,0),inverse:n.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=e?e.href:e,{name:"if",hash:{},fn:n.noop,inverse:n.program(34,l,0),data:l}))?i:"")+">\n\t\t\t\t\t\t\t\t"+(null!=(i=t.if.call(r,null!=e?e.href:e,{name:"if",hash:{},fn:n.program(36,l,0),inverse:n.noop,data:l}))?i:"")+"\n\t\t\t\t\t\t\t\t\t"+n.escapeExpression("function"==typeof(s=null!=(s=t.text||(null!=e?e.text:e))?s:t.helperMissing)?s.call(r,{name:"text",hash:{},data:l}):s)+(null!=(i=t.if.call(r,null!=e?e.itemFlag:e,{name:"if",hash:{},fn:n.program(39,l,0),inverse:n.noop,data:l}))?i:"")+"\n\t\t\t\t\t\t\t\t"+(null!=(i=t.if.call(r,null!=e?e.href:e,{name:"if",hash:{},fn:n.program(41,l,0),inverse:n.noop,data:l}))?i:"")+"\n\t\t\t\t\t\t\t</li>\n"},32:function(n,e,t,a,l){return'class="selected-item"'},34:function(n,e,t,a,l){return'tabindex="0"'},36:function(n,e,t,a,l){var i,s,r=null!=e?e:{};return'<a href="'+n.escapeExpression("function"==typeof(s=null!=(s=t.href||(null!=e?e.href:e))?s:t.helperMissing)?s.call(r,{name:"href",hash:{},data:l}):s)+'"'+(null!=(i=t.if.call(r,null!=e?e.className:e,{name:"if",hash:{},fn:n.program(37,l,0),inverse:n.noop,data:l}))?i:"")+">"},37:function(n,e,t,a,l){var i;return' class="'+n.escapeExpression("function"==typeof(i=null!=(i=t.className||(null!=e?e.className:e))?i:t.helperMissing)?i.call(null!=e?e:{},{name:"className",hash:{},data:l}):i)+'"'},39:function(n,e,t,a,l){var i;return'<div class="label-new">'+n.escapeExpression("function"==typeof(i=null!=(i=t.itemFlag||(null!=e?e.itemFlag:e))?i:t.helperMissing)?i.call(null!=e?e:{},{name:"itemFlag",hash:{},data:l}):i)+"</div>"},41:function(n,e,t,a,l){return"</a>"},43:function(n,e,t,a,l){return"hide-foot"},45:function(n,e,t,a,l){return'\t\t<div class="droparrow up"></div>\n'},compiler:[7,">= 4.0.0"],main:function(n,e,t,a,l,i,s){var r,o,u=null!=e?e:{},f=t.helperMissing,c=n.escapeExpression;return'<div class="droparound'+(null!=(r=t.if.call(u,null!=e?e.htmlMessage:e,{name:"if",hash:{},fn:n.program(1,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.subview:e,{name:"if",hash:{},fn:n.program(3,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.menuItems:e,{name:"if",hash:{},fn:n.program(5,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.autoSizeToContent:e,{name:"if",hash:{},fn:n.program(7,l,0,i,s),inverse:n.noop,data:l}))?r:"")+" "+c("function"==typeof(o=null!=(o=t.classList||(null!=e?e.classList:e))?o:f)?o.call(u,{name:"classList",hash:{},data:l}):o)+'"\nstyle="'+(null!=(r=t.if.call(u,null!=e?e.staticHeight:e,{name:"if",hash:{},fn:n.program(9,l,0,i,s),inverse:n.noop,data:l}))?r:"")+"\n"+(null!=(r=t.if.call(u,null!=e?e.staticWidth:e,{name:"if",hash:{},fn:n.program(11,l,0,i,s),inverse:n.noop,data:l}))?r:"")+"\n"+(null!=(r=t.if.call(u,null!=e?e.positionFixed:e,{name:"if",hash:{},fn:n.program(13,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'">\n\t<div class="head '+(null!=(r=t.unless.call(u,null!=e?e.headContent:e,{name:"unless",hash:{},fn:n.program(15,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'">\n\t\t'+c("function"==typeof(o=null!=(o=t.headContent||(null!=e?e.headContent:e))?o:f)?o.call(u,{name:"headContent",hash:{},data:l}):o)+'\n\t</div>\n\t<div class="body">\n'+(null!=(r=t.if.call(u,null!=e?e.textMessage:e,{name:"if",hash:{},fn:n.program(17,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.htmlMessage:e,{name:"if",hash:{},fn:n.program(20,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.subview:e,{name:"if",hash:{},fn:n.program(22,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.menuItems:e,{name:"if",hash:{},fn:n.program(24,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'\t</div>\n\t<div class="foot '+(null!=(r=t.unless.call(u,null!=e?e.footContent:e,{name:"unless",hash:{},fn:n.program(43,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'">\n\t\t'+c("function"==typeof(o=null!=(o=t.footContent||(null!=e?e.footContent:e))?o:f)?o.call(u,{name:"footContent",hash:{},data:l}):o)+"\n\t</div>\n"+(null!=(r=t.if.call(u,null!=e?e.showDropArrow:e,{name:"if",hash:{},fn:n.program(45,l,0,i,s),inverse:n.noop,data:l}))?r:"")+"</div>\n"},useData:!0,useDepths:!0}),a={};n.Array.each([],function(e){var t=n.Template.get("hermes/"+e);t&&(a[e]=t)}),n.Template.register("hermes/fluid-droparound",function(e,l){return l=l||{},l.partials=l.partials?n.merge(a,l.partials):a,t(e,l)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-flickr-balls",function(e,a){var l=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,a,l,r,s){return'<div class="balls">\n\t<div class="blue ball"></div><div class="pink ball"></div>\n</div>'},useData:!0}),r={};e.Array.each([],function(a){var l=e.Template.get("hermes/"+a);l&&(r[a]=l)}),e.Template.register("hermes/flickr-balls",function(a,s){return s=s||{},s.partials=s.partials?e.merge(r,s.partials):r,l(a,s)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("fluid-overlay-manager-view",function(e){"use strict";var i=0,l=e.Base.create("overlayManager",e.Base,[],{add:function(l){var a=this.get("overlay"),s=l.getAttrs(),t=this;this.get("modals").push(l),a?s.dismissOnOverlayClick&&this.set("dismissOnOverlayClick",!0):(a=e.Node.create(this.get("overlayHTML")),e.one("body").append(a),this.set("overlay",a),i++,this.addOverlayClickHandler(a),this.addOverlayKeyHandler(a),s.dismissOnOverlayClick?this.set("dismissOnOverlayClick",!0):this.set("dismissOnOverlayClick",!1)),this.setOverlayStyle(s),s.dismissOnActionClick&&l.on("actionClick",function(){setTimeout(function(){t.close()},0)}),"fluid-modal-view"===l.name&&l.on("cancelClick",function(){setTimeout(function(){t.close()},0)})},setOverlayStyle:function(e){var i="",l="",a="",s=this.get("overlay");e.hideModalOverlay&&(i="transparent"),e.darkOverlay&&(i="darker-overlay"),e.lightOverlay&&(i="light-overlay"),e.invisibleOverlay&&(l="invisible"),e.overlayClassList&&(a=e.overlayClassList),s.setAttribute("class",this.get("overlayClass")+" "+a+" "+i+" "+l)},addOverlayClickHandler:function(e){e.getDOMNode().addEventListener("click",this.clickHandler.bind(this))},removeOverlayClickHandler:function(e){e.getDOMNode().removeEventListener("click",this.clickHandler.bind(this))},addOverlayKeyHandler:function(i){e.one("body").getDOMNode().addEventListener("keyup",this.keyHandler.bind(this))},removeOverlayKeyHandler:function(i){e.one("body").getDOMNode().removeEventListener("keyup",this.keyHandler.bind(this))},keyHandler:function(e){27===e.keyCode&&this.clickHandler()},clickHandler:function(){var e,i=this.get("modals").length-2,l="",a="",s="",t=this.get("overlay");this.get("dismissOnOverlayClick")&&(this.set("dismissOnOverlayClick",!1),this.close(),i>-1&&this.get("modals").length>0&&((e=this.get("modals")[i].getAttrs()).hideModalOverlay&&(l="transparent"),e.invisibleOverlay&&(a="invisible"),e.overlayClassList&&(s=e.overlayClassList),t.setAttribute("class",this.get("overlayClass")+" "+s+" "+l+" "+a),this.set("dismissOnOverlayClick",e.dismissOnOverlayClick)))},remove:function(e){var i=this.get("modals");if(e.isClosed){var l=i.indexOf(e);l>-1?i.splice(l,1):1===i.length&&(l=0,i.splice(l,1)),this.removeOverlay()}},close:function(){var e=this.get("modals").pop();e&&!e.isClosed&&e.close(),this.removeOverlay()},closeAll:function(){var e=this;this.get("modals").forEach(function(i,l){e.close()})},removeOverlay:function(){var e=this.get("overlay");if(0===this.get("modals").length&&e)this.removeOverlayClickHandler(e),this.removeOverlayKeyHandler(e),e.remove(),this.set("overlay",void 0),i--;else{var l=this.get("modals").length-1;l>-1&&this.setOverlayStyle(this.get("modals")[l].getAttrs())}},alreadyShowingModal:function(e){var i=!1;return e||(e="fluid-modal-view"),this.get("modals").forEach(function(l,a){l.name===e&&(i=!0)}),i}},{ATTRS:{modals:{value:[],validator:function(i){return e.Lang.isArray(i)}},overlayHTML:{},overlayClass:{},overlay:{value:void 0},dismissOnOverlayClick:{value:!0,setter:function(i){return e.AttributeHelpers.coerceBoolean(i)},validator:function(i){return e.Lang.isBoolean(i)}}}});e.OverlayManager={DroparoundOverlay:new l({overlayHTML:'<div class="fluid-droparound-overlay"></div>',overlayClass:"fluid-droparound-overlay"}),ModalOverlay:new l({overlayHTML:'<div class="fluid-modal-overlay"><div class="balls"></div></div>',overlayClass:"fluid-modal-overlay"}),SignupInterstitialOverlay:new l({overlayHTML:'<div class="signup-interstitial-overlay interstitial-fade"></div>',overlayClass:"signup-interstitial-overlay interstitial-fade"}),ChalkboardOverlay:new l({overlayHTML:'<div class="fluid-chalkboard-overlay"></div>',overlayClass:"fluid-chalkboard-overlay"}),hasOverlay:function(){return i>0}}},"@VERSION@",{requires:["base","flickr-view","attribute-helpers"],optionalRequires:["fluid"]});